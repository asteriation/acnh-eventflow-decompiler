flow Root:
    fork:
        branch0:
        branch1:
            if (not EventFlowSystemActor.IsMyVillage()) and (EventFlowSystemActor.NetMode() not in (0, 1)):
                EventFlowSystemActor.NetMeasureBitRate()
            else:
                EventFlowSystemActor.WaitFrame(20)
            EventFlowSystemActor.WaitFrame(20)
        branch2:
            EventFlowSystemActor.SwapSpeaker('cDoc', true)
            EventFlowSystemActor.SystemFaderRelease()
            EventFlowSystemActor.CameraSetDemoParam('Keep', 'Cut0End', 'Cut0', false, false, false, 0)
            EventFlowSystemActor.WaitFrame(20)
            EventFlowSystemActor.MessageLockNext(3)
            fork:
                branch0:
                branch1:
                    EventFlowSystemActor.OpenMessageWindow('TalkSNpc/doc/SP_doc_30_Flight_Announce:110', false)
                    EventFlowSystemActor.WaitFrame(20)
                    EventFlowSystemActor.MessageSuspend()
                    EventFlowSystemActor.WaitFrame(2)
                    EventFlowSystemActor.OpenMessageWindow('TalkSNpc/doc/SP_doc_30_Flight_Announce:140', false)
                    EventFlowSystemActor.WaitFrame(40)
                    EventFlowSystemActor.MessageSuspend()
                    EventFlowSystemActor.OpenMessageWindow('TalkSNpc/doc/SP_doc_30_Flight_Announce:151', false)
                    EventFlowSystemActor.WaitFrame(30)
                    EventFlowSystemActor.MessageSuspend()
                branch2:
                    EventFlowSystemActor.BGMPropertyControl(48)
                    EventFlowSystemActor.WaitFrame(400)
                    EventFlowSystemActor.NetDemoNextStep('cStartArriveDemo')
                    EventFlowSystemActor.SoundTriggerEmit('Flight_Landing', -1)
                    EventFlowSystemActor.WaitFrame(140)
                    EventFlowSystemActor.FadeOut('cCircle', 'cNormalFader', 'cBlack', 1.0, 0.25, true)
                    EventFlowSystemActor.WaitFrame(60)
                    EventFlowSystemActor.BGMPropertyControl(46)
            EventFlowSystemActor.MessageUnlockNext()
            EventFlowSystemActor.BGMPropertyControl(46)
    if EventFlowSystemActor.IsMyVillage():
        EventFlowSystemActor.SystemRequestChangeStage('cGrowUp', 'cCircle', 'cCircle', 'cBlack', 1.0, 1.0)
    else:
        EventFlowSystemActor.PlayReport(0, 'cVisitFriend')
        event_flags_system['cPlayer:VisitFriendMileageGet'] = true
        run SNPC_dod_AirPort::DALNoveltyCountUp
        EventFlowSystemActor.NetDemoNextStep('cArriveVisitor')
    return

