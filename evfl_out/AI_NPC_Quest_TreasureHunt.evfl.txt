flow Hit:
    run AI_NPC_Outdoor::Hit
    return

flow Init:
    MainNpc.NpcRegistAIBlackBoard('WeightReset', 0)
    return

flow Push:
    run AI_NPC_Outdoor::Push
    return

flow Root:
    MainNpc.NpcAIDefaultSetting(1)
    if MainNpc.NpcBlackBoard('WeightReset', 1):
        MainNpc.NpcSetAIBlackBoard('WeightReset', 0)
        MainNpc.NpcAISetting(8, false)
    MainNpc.SetIsStartNeedActivity('cOff')
    if event_flag_npc['cNpcTemp:FallPit']:
        run AI_NPC_Outdoor::FallPit
    elif MainNpc.NpcIsTreasureFind():
        MainNpc.NpcChangeAIState('cTreasureHunt', 'NNPC_Quest_TreasureHunt_End', 'End', '', true, false)
    elif MainNpc.NpcIsTreasureHuntLimitOver2():
        MainNpc.SetIsStartNeedActivity('cOn')
    elif MainNpc.IsQuestLimitOver():
        MainNpc.NpcChangeAIState('cTreasureHunt', 'NNPC_Quest_TreasureHunt_End', 'Root', '', true, false)
    else:
        MainNpc.NpcChangeAIState('cTreasureHunt', 'NNPC_Quest_TreasureHunt_End', 'Talk', '', true, false)
    return

