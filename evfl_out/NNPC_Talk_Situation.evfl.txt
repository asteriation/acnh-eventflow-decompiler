flow Check_ConvReaction:
    EventFlowSystemActor.SetCheckResultConvReaction(1)
    if (not EventFlowSystemActor.IsInsectChasingPlayer(0)) and (event_flag_npc['cNpcMemory:FirstMeetGreetAtThisVillage']) and (event_flag_npc['cNpcMemory:FirstMeetGreetAtThisVillage']) and (not MainNpc.NpcCheckPastDays('cLastTalk', 30)) and (not SubNpc.NpcCheckPastDays('cLastTalk', 30)) and (not MainNpc.NpcIsFleaHolder()) and (not SubNpc.NpcIsFleaHolder()):
        EventFlowSystemActor.SetCheckResultConvReaction(0)
    return

flow Facility_Chk:
    if (EventFlowSystemActor.SystemCheckNowStage('cMuseumInsect')) or (EventFlowSystemActor.SystemCheckNowStage('cMuseumFish')) or (EventFlowSystemActor.SystemCheckNowStage('cMuseumFossil')) or (EventFlowSystemActor.SystemCheckNowStage('cMametubu')) or (EventFlowSystemActor.SystemCheckNowStage('cTailor')):
        event_flags_npc['cNpcMemory:TalkCountInFacilityToday'] += 1
    return

flow Root:
    run NNPC_Reaction_GEvent_Quest::Root
    run NNPC_Reaction_Run::Root
    run NNPC_Reaction_Moving::MoveOut
    run NNPC_Reaction_First_Root::Root
    run NNPC_Reaction_Moving::MoveIn
    run NNPC_Reaction_Missing::Root
    run NNPC_Reaction_Mood::Root
    run NNPC_Reaction_Beeface::Root
    run NNPC_Reaction_1P_LifeStart::Root
    run NNPC_Reaction_NewYear::Root
    run NNPC_Reaction_DIY::Root
    run NNPC_Reaction_GEvent_BirthdayP::Root
    run NNPC_Reaction_Receive::Root
    run NNPC_Talk_GEvent::Root
    run NNPC_Reaction_Quest::Root
    run NNPC_Reaction_Itching::Root
    run NNPC_Reaction_Sitting::Root
    run NNPC_Reaction_EarlyLate::Root
    return

flow Situation_Spot:
    run NNPC_Reaction_First_Root::Root
    run NNPC_Reaction_Missing::Root
    run NNPC_Reaction_GEvent_BirthdayP::Root
    run NNPC_Reaction_Quest::Root
    return

