flow Hgc_Chat1:
    if event_flags_system['cPlayer:KotonoQuestCount'] >= 9:
        fEvent26 = EventFlowSystemActor.RandomChoiceExcludePrevious4(4, true)
        if fEvent26 == 1:
            MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:105', true)
        elif fEvent26 == 3:
            run sub_Event3
        elif fEvent26 == 2:
            run sub_Event4
        elif fEvent26 == 0:
            if MainNpc.NpcIsEquipedHandTool(0):
                run Hgc_Chat1
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:106', true)
    elif EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
        run sub_Event4
    else:
        run sub_Event3
    return

flow Hgc_Chat2:
    if event_flags_system['cPlayer:KotonoQuestCount'] >= 35:
        fEvent0 = EventFlowSystemActor.RandomChoiceExcludePrevious5(5, true)
        if fEvent0 == 1:
            MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:116', true)
        elif fEvent0 == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:115', false)
        elif fEvent0 in (2, 3, 4):
            run sub_grp!Event21
    else:
        run sub_grp!Event21
    return

flow Hgc_Chat3:
    if event_flags_system['cPlayer:KotonoQuestCount'] >= 70:
        fEvent10 = EventFlowSystemActor.RandomChoiceExcludePrevious7(7, true)
        if fEvent10 == 1:
            MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:126', true)
        elif fEvent10 == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:125', true)
        elif fEvent10 in (3, 4, 5, 6):
            run sub_grp!Event5
        elif fEvent10 == 2:
            if MainNpc.NpcIsEquipedHandTool(0):
                run Hgc_Chat3
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:127', true)
    else:
        run sub_grp!Event5
    return

flow Root:
    fEvent19 = subflow_results[0]
    if fEvent19 == 0:
        run Hgc_Chat1
    elif fEvent19 == 1:
        run Hgc_Chat2
    elif fEvent19 == 2:
        run Hgc_Chat3
    return

flow sub_Event3:
    MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:101', true)

flow sub_Event4:
    MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:100', true)

flow sub_grp!Event21:
    fEvent21 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
    if fEvent21 == 1:
        MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:111', true)
    elif fEvent21 == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:110', true)
    elif fEvent21 == 2:
        MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:130', true)

flow sub_grp!Event5:
    fEvent5 = EventFlowSystemActor.RandomChoiceExcludePrevious4(4, true)
    if fEvent5 == 3:
        MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:131', true)
    elif fEvent5 == 2:
        MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:122', true)
    elif fEvent5 == 1:
        MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:121', true)
    elif fEvent5 == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/hgc/SP_hgc:120', true)

