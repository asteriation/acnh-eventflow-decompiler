flow ExitStrc:
    if EventFlowSystemActor.SystemCheckNowStage('cPhotoStudio'):
        MainNpc.NpcChangeAIState('cExitReaction', '', '', '', false, false)
    return

flow Init:
    return

flow Root:
    if EventFlowSystemActor.TermEventNow('JuneBride', false):
        if event_flags_system['cPlayer:CommuneIslandAvailable']:
            if (not event_flags_system['cPlayer:SpnJuneBrideTalkEventFrag']) and (not EventFlowSystemActor.SystemCheckNowStage('cPhotoStudio')):
                MainNpc.NpcAISetting(3, false)
                MainNpc.NpcChangeConversationPretenseState('cConversationPretense', 'Root', 'SNPC_alp_01_Studio', '', false, true, 0, 'spn')
            else:
                if event_flags_system['cLandTemp:JuneBrideCeremonyDemoAfterNow']:
                    MainNpc.NpcChangeAIState('cWait', 'Demo_CelemonyJuneBride', 'PartyNow_alp', '', false, false)
                else:
                    run sub_grp!Event12
    else:
        run sub_grp!Event12
    return

flow sub_grp!Event12:
    if MainNpc.NpcCheckStateSelectTiming('cInit'):
        MainNpc.NpcChangeAIState('cEnterReaction', 'SNPC_alp_01_Studio', '', '', false, false)
    else:
        MainNpc.NpcChangeAIState('cWait', 'SNPC_alp_01_Studio', '', '', false, false)

