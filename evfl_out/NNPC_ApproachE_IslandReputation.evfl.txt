flow Root:
    MainNpc.SetIslandReputationApproachVillagerIndex(1)
    event_flags_npc['cNpcSave:AppE_Rep_HappenToday'] = true
    if event_flag_npc['cNpcSave:AppE_Happen1st']:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:111', false)
        if not EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:112', false)
        elif event_flag_npc['cNpcSave:AppE_GetItem1st']:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:113_02', true)
            if EventFlowSystemActor.RandomChoice2(2) == 0:
                MainNpc.NpcDecideRewardByCondition(0, 10, false, true)
                MainNpc.SetItemName(0, 1, 0)
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.NpcDelivery('Keep', 1)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_03', true)
                MainNpc.NpcDelivery('Default', 2)
                event_flags_system['cLand:CountAppE_RepTalk'] += 1
                event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
            else:
                fEvent23 = EventFlowSystemActor.RandomChoiceExcludePrevious4(4, false)
                if fEvent23 == 0:
                    MainNpc.NpcDecideRewardByCondition(0, 6, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_01', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
                elif fEvent23 == 1:
                    MainNpc.NpcDecideRewardByCondition(0, 8, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_01', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
                elif fEvent23 == 2:
                    MainNpc.NpcDecideRewardByCondition(0, 9, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_01', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
                elif fEvent23 == 3:
                    MainNpc.NpcDecideRewardByCondition(0, 7, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_02', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:113_01', true)
            if EventFlowSystemActor.RandomChoice2(2) == 0:
                MainNpc.NpcDecideRewardByCondition(0, 10, false, true)
                MainNpc.SetItemName(0, 1, 0)
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.NpcDelivery('Keep', 1)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_03', true)
                MainNpc.NpcDelivery('Default', 2)
                event_flags_system['cLand:CountAppE_RepTalk'] += 1
                event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
            else:
                fEvent23 = EventFlowSystemActor.RandomChoiceExcludePrevious4(4, false)
                if fEvent23 == 0:
                    MainNpc.NpcDecideRewardByCondition(0, 6, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_01', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
                elif fEvent23 == 1:
                    MainNpc.NpcDecideRewardByCondition(0, 8, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_01', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
                elif fEvent23 == 2:
                    MainNpc.NpcDecideRewardByCondition(0, 9, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_01', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
                elif fEvent23 == 3:
                    MainNpc.NpcDecideRewardByCondition(0, 7, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:114_02', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
    else:
        event_flags_npc['cNpcSave:AppE_Happen1st'] = true
        fEvent1 = MainNpc.CheckNpcLook()
        if fEvent1 in (0, 1, 2, 4, 6, 7):
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:101_01', false)
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:102', false)
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:103', false)
            if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:104_02', true)
                MainNpc.NpcDecideRewardByCondition(0, 6, false, true)
                MainNpc.SetItemName(0, 1, 0)
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.NpcDelivery('Keep', 1)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:105', true)
                MainNpc.NpcDelivery('Default', 2)
                event_flags_system['cLand:CountAppE_RepTalk'] += 1
                event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:104_01', false)
        elif fEvent1 in (3, 5):
            if event_flag_npc['cNpcSave:MarketBuildingSupport']:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:101_02', false)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:102', false)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:103', false)
                if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:104_02', true)
                    MainNpc.NpcDecideRewardByCondition(0, 6, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:105', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:104_01', false)
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:101_01', false)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:102', false)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:103', false)
                if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:104_02', true)
                    MainNpc.NpcDecideRewardByCondition(0, 6, false, true)
                    MainNpc.SetItemName(0, 1, 0)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Keep', 1)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:105', true)
                    MainNpc.NpcDelivery('Default', 2)
                    event_flags_system['cLand:CountAppE_RepTalk'] += 1
                    event_flags_npc['cNpcSave:AppE_GetItem1st'] = true
                    event_flags_system['cPlayer:NnpcAppE_Rep_OccuredToday'] = true
                    event_flags_system['cPlayer:NnpcApproachNoIslandRepCount'] = 0
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachE_MainSeq:104_01', false)
    return

