flow CampFire_Start:
    EventFlowSystemActor.BGMPropertyControl(78)
    EventFlowSystemActor.CameraSetDemoParam('Npc:rco', 'EventPlazaCampFire', '', true, false, false, 0)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:032', true)
    EventFlowSystemActor.WaitFrame(5)
    MainNpc.TurnBody(12, 180.0)
    MainNpc.NpcWaitTurn()
    MainNpc.TurnNeck(11)
    EventFlowSystemActor.WaitFrame(5)
    MainNpc.RequestSimple('NpcSpArrangeShort', false)
    EventFlowSystemActor.WaitFrame(60)
    MainNpc.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
    EventFlowSystemActor.WaitFrame(10)
    EventFlowSystemActor.EventCstmAction(0)
    EventFlowSystemActor.WaitFrame(10)
    EventFlowSystemActor.SoundTriggerEmit('FireOn', -1)
    EventFlowSystemActor.WaitFrame(35)
    fork:
        branch0:
        branch1:
            EventFlowSystemActor.WaitFrame(30)
            MainNpc.TurnBody(12, 0.0)
            MainNpc.NpcWaitTurn()
        branch2:
            Player.CharacterEmoticonAction('Clapping', '', 40, false, false)
        branch3:
            Npc_1.CharacterEmoticonAction('Clapping', '', 40, false, false)
        branch4:
            Npc_2.CharacterEmoticonAction('Clapping', '', 40, false, false)
        branch5:
            Npc_3.CharacterEmoticonAction('Clapping', '', 40, false, false)
        branch6:
            Npc_4.CharacterEmoticonAction('Clapping', '', 40, false, false)
    EventFlowSystemActor.WaitFrame(40)
    fork:
        branch0:
        branch1:
            Player.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
        branch2:
            Npc_1.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
        branch3:
            Npc_2.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
        branch4:
            Npc_3.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
        branch5:
            Npc_4.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
    EventFlowSystemActor.WaitFrame(15)
    return

flow Cmn_ApplauseAll_Keep:
    fork:
        branch0:
        branch1:
            Npc_1.CharacterEmoticonAction('Clapping', '', 75, false, true)
        branch2:
            Npc_2.CharacterEmoticonAction('Clapping', '', 75, false, true)
        branch3:
            Npc_3.CharacterEmoticonAction('Clapping', '', 75, false, true)
        branch4:
            Npc_4.CharacterEmoticonAction('Clapping', '', 75, false, true)
    EventFlowSystemActor.WaitFrame(60)
    return

flow Cmn_ApplauseAll_Stop:
    fork:
        branch0:
        branch1:
            Npc_1.CharacterEmoticonAction('Clapping', '', 30, false, false)
        branch2:
            Npc_2.CharacterEmoticonAction('Clapping', '', 30, false, false)
        branch3:
            Npc_3.TurnNeck(10)
            Npc_3.CharacterEmoticonAction('Clapping', '', 30, false, false)
        branch4:
            Npc_4.TurnNeck(10)
            Npc_4.CharacterEmoticonAction('Clapping', '', 30, false, false)
    EventFlowSystemActor.WaitFrame(45)
    fork:
        branch0:
        branch1:
            Npc_1.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
        branch2:
            Npc_2.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
        branch3:
            Npc_3.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
        branch4:
            Npc_4.CharacterEmoticonAction('EmotEnd', '', 30, false, false)
    return

flow Root:
    EventFlowSystemActor.SleepInsect('cSleep')
    run Tutorials_Prologue3_Orientation1::GoEventPlazaSetting
    run CampFire_Start
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:041_01', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:041_02', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:041_03', true)
    EventFlowSystemActor.WaitFrame(30)
    MainNpc.CharacterEmoticonAction('IdeaBulb', '', 0, true, false)
    EventFlowSystemActor.WaitFrame(60)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:041_04', true)
    EventFlowSystemActor.UISoftwareKeyboardHandling('cVillage', true)
    EventFlowSystemActor.SaveSetFromUIResult('cTownName')
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:042_01', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:042_02', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:042_03', true)
    EventFlowSystemActor.NpcBalloonTalkAll(0)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:043_01', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:043_02', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:043_03', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:043_04', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:043_05', true)
    EventFlowSystemActor.BGMPropertyControl(79)
    EventFlowSystemActor.BGMPropertyControl(81)
    run Cmn_ApplauseAll_Keep
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:043_06', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:043_07', true)
    fork:
        branch0:
        branch1:
            Npc_1.CharacterEmoticonAction('Cheering', 'Tutorials/Tutorials_Prologue4_Orientation3:044_01', 60, false, false)
        branch2:
            Npc_2.CharacterEmoticonAction('Cheering', 'Tutorials/Tutorials_Prologue4_Orientation3:044_02', 60, false, false)
        branch3:
            EventFlowSystemActor.WaitFrame(3)
            Npc_3.CharacterEmoticonAction('Cheering', 'Tutorials/Tutorials_Prologue4_Orientation3:044_03', 61, false, false)
        branch4:
            EventFlowSystemActor.WaitFrame(1)
            Npc_4.CharacterEmoticonAction('Cheering', 'Tutorials/Tutorials_Prologue4_Orientation3:044_04', 63, false, false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045', false)
    fEvent39 = EventFlowSystemActor.CurrentRegionLanguage('cCurrentMachine')
    if fEvent39 == 0:
        MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:046', false)
        fEvent26 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent26 == 1:
            EventFlowSystemActor.SetIslandRubyType('JimaSeom')
        elif fEvent26 == 2:
            EventFlowSystemActor.SetIslandRubyType('TouSeom')
        elif fEvent26 == 0:
            EventFlowSystemActor.SetIslandRubyType('ShimaSeom')
        MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045_01', false)
    elif fEvent39 == 11:
        MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:047', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            EventFlowSystemActor.SetIslandRubyType('TouSeom')
        else:
            EventFlowSystemActor.SetIslandRubyType('TouDo')
        MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045_01', false)
    elif fEvent39 in (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13):
        pass
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045_01_02', true)
    run Cmn_ApplauseAll_Stop
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045_02', true)
    Player.CharacterEmoticonAction('Greeting', '', 0, true, false)
    EventFlowSystemActor.WaitFrame(15)
    run Cmn_ApplauseAll_Stop
    fork:
        branch0:
        branch1:
            MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045_04_01', true)
        branch2:
            EventFlowSystemActor.WaitFrame(5)
            Npc_3.TurnNeck(0)
        branch3:
            EventFlowSystemActor.WaitFrame(7)
            Npc_4.TurnNeck(0)
    MainNpc.NpcChangeHandTool(false, 'cSmoothie', 65534)
    fork:
        branch0:
        branch1:
            Npc_1.NpcChangeHandTool(false, 'cSmoothie', 65534)
        branch2:
            Npc_2.NpcChangeHandTool(false, 'cSmoothie', 65534)
        branch3:
            Npc_3.NpcChangeHandTool(false, 'cSmoothie', 65534)
        branch4:
            Npc_4.NpcChangeHandTool(false, 'cSmoothie', 65534)
        branch5:
            Player.PlayerPulloutSmoothie()
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045_04_02', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045_04_03', false)
    MainNpc.OpenMessageWindow('Tutorials/Tutorials_Prologue4_Orientation3:045_05', true)
    EventFlowSystemActor.SoundTriggerEmit('Cheers', -1)
    fork:
        branch0:
        branch1:
            MainNpc.RequestSimple('NpcCheers', true)
        branch2:
            Npc_1.RequestSimple('NpcCheers', true)
        branch3:
            Npc_2.RequestSimple('NpcCheers', true)
        branch4:
            Npc_3.RequestSimple('NpcCheers', true)
        branch5:
            Npc_4.RequestSimple('NpcCheers', true)
        branch6:
            Player.PlayerRequestSimple('NpcCheers', true)
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('FaintSmile', '', 0, true, false)
        branch2:
            Npc_1.CharacterEmoticonAction('FaintSmile', '', 0, true, false)
        branch3:
            Npc_2.CharacterEmoticonAction('FaintSmile', '', 0, true, false)
        branch4:
            Npc_3.CharacterEmoticonAction('FaintSmile', '', 0, true, false)
        branch5:
            Npc_4.CharacterEmoticonAction('FaintSmile', '', 0, true, false)
    EventFlowSystemActor.SaveSetFromUIResult('cTownName2')
    EventFlowSystemActor.WaitFrame(10)
    EventFlowSystemActor.BGMPropertyControl(80)
    EventFlowSystemActor.BGMPropertyControl(78)
    EventFlowSystemActor.FadeOut('cCircle', 'cCircle', 'cBlack', 0.699999988079071, 0.699999988079071, true)
    EventFlowSystemActor.SoundDuckingOn(30)
    fork:
        branch0:
        branch1:
            Npc_1.NpcChangeHandTool(true, 'cPutAway', 65534)
        branch2:
            Npc_2.NpcChangeHandTool(true, 'cNone', 6886)
        branch3:
            Npc_4.NpcChangeHandTool(true, 'cNone', 5430)
        branch4:
            Player.PlayerPutawaySmoothie()
    fork:
        branch0:
        branch1:
            MainNpc.RequestSimple('NpcSpDrinking', false)
            MainNpc.SetDefaultWaitAs('cNpcSpDrinking')
        branch2:
            Npc_1.RequestSimple('NpcSpRhythm', false)
            Npc_1.NpcRequestAction(2)
            Npc_1.SetDefaultWaitAs('cNpcSpRhythm')
        branch3:
            Npc_2.RequestSimple('NpcSpRhythm', false)
            Npc_2.NpcRequestAction(2)
            Npc_2.SetDefaultWaitAs('cNpcSpRhythm')
        branch4:
            Npc_4.RequestSimple('NpcSpTambourineSound', false)
            Npc_4.NpcRequestAction(2)
            Npc_4.SetDefaultWaitAs('cNpcSpTambourineSound')
    EventFlowSystemActor.WaitFrame(30)
    EventFlowSystemActor.SetupActorPosition(5)
    EventFlowSystemActor.StoreNormalCamera(true)
    EventFlowSystemActor.FadeIn(true)
    event_flags_system['cPlayer:PlayerEnableEating'] = true
    event_flags_system['cLandTemp:PrologueStartedCampfire'] = true
    event_flags_system['cLand:OpeningSeqBGMChangeCounter'] = 5
    EventFlowSystemActor.BGMPropertyControl(79)
    EventFlowSystemActor.SoundDuckingOff(30)
    EventFlowSystemActor.TurnOnForceMaxVolumeForAudioMusic()
    EventFlowSystemActor.TurnOnTempAudioMusic(4318)
    EventFlowSystemActor.TurnOnEventPlazaDuckingJudge()
    EventFlowSystemActor.SetNpcAIBlackBoardByLabel('IsForceLife', 1, '-Looks:AN', 0)
    EventFlowSystemActor.SetNpcAIBlackBoardByLabel('IsForceLife', 1, '-Looks:HA', 0)
    EventFlowSystemActor.SleepInsect('cAwake')
    return

flow Root_Init:
    MainNpc.NpcAITalkCastSetting('Prologue_Rco')
    return

