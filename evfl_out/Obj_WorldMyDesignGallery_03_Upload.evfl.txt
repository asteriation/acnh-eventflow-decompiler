flow BackToSelect:
    run Event17
    return

flow NextSelect:
    run Event8
    return

flow RegistAuthor:
    EventFlowSystemActor.OpenMessageWindow('Dialog/DIALOG_Msg:2421', true)
    EventFlowSystemActor.UINetConnectWaitAppear()
    EventFlowSystemActor.NetGetDesignerID(true)
    EventFlowSystemActor.UINetConnectWaitDisappear()
    if EventFlowSystemActor.CheckErrorType(2):
        run Obj_WorldMyDesignGallery_01_MainScene::MainUI
    else:
        EventFlowSystemActor.MessageLockNext(1)
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Save:001', false)
        EventFlowSystemActor.SaveSimpleSave('cAll')
        EventFlowSystemActor.MessageSuspend()
        EventFlowSystemActor.MessageUnlockNext()
        EventFlowSystemActor.SetTagFromSystem(0, 'cOwnDesignerIDD', 'cDegit', '', 0)
        EventFlowSystemActor.OpenMessageWindow('Dialog/DIALOG_Msg:2425', true)
    return

flow Root:
    if EventFlowSystemActor.HasAbleDisplayMyDesign():
        run Obj_WorldMyDesignGallery_02_SubFlow::PreCheckConnection
        if EventFlowSystemActor.NetHasDesignerID():
entrypoint Event8:
            run Obj_WorldMyDesignGallery_02_SubFlow::GetMyIdList
        else:
            run RegistAuthor
            run Obj_WorldMyDesignGallery_02_SubFlow::GetMyIdList
            EventFlowSystemActor.OpenMessageWindow('Dialog/DIALOG_Msg:2436', true)
        if EventFlowSystemActor.IsReachedUploadCountMax():
            EventFlowSystemActor.OpenMessageWindow('Dialog/DIALOG_Msg:2428', false)
            run Obj_WorldMyDesignGallery_05_MyOpus::FullMode
        else:
entrypoint Event17:
            EventFlowSystemActor.UIMyDesignSelectHandling(0, 0, 1, 1, 0)
            if EventFlowSystemActor.UIResultMenuDecide():
                EventFlowSystemActor.SetTagFromUIResult(0, 'cMyDesignTitle')
                EventFlowSystemActor.UIMyDesignExchangeInfoHandling('cUpload')
                fEvent29 = EventFlowSystemActor.UIMyDesignExchangeUploadResult()
                if fEvent29 == 0:
                    run BackToSelect
                elif fEvent29 == 1:
                    event_flags_system['cPlayerTemp:MyDesignExchangeCallMyIdList'] = false
                    EventFlowSystemActor.OpenMessageWindow('Dialog/DIALOG_Msg:2427', false)
                    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        run Obj_WorldMyDesignGallery_01_MainScene::MainUI
                    else:
                        run NextSelect
                elif fEvent29 == 2:
                    run Obj_WorldMyDesignGallery_01_MainScene::MainUI
            else:
                run Obj_WorldMyDesignGallery_01_MainScene::MainUI
    else:
        EventFlowSystemActor.OpenMessageWindow('Dialog/DIALOG_Msg:2429', true)
        run Obj_WorldMyDesignGallery_01_MainScene::MainUI
    return

