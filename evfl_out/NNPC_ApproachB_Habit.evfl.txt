flow Cancell:
    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:104', true)
    run Event14
    return

flow Retype:
    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:103', true)
    run Event14
    return

flow Root:
    if event_flag_npc['cNpcSave:InputPhrase']:
        if MainNpc.CheckNpcApproachType():
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:002', false)
            if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:100', true)
entrypoint Event14:
                EventFlowSystemActor.UISoftwareKeyboardHandling('cPhrase', true)
                if EventFlowSystemActor.UIResultMenuDecide():
                    EventFlowSystemActor.SetTagFromUIResult(0, 'cPhrase')
                    if MainNpc.NpcCheckSameWordFromSwkbd('cPhrase'):
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:102', false)
                        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                            fEvent33 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
                            if fEvent33 == 0:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:300', false)
                            elif fEvent33 == 1:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:301', false)
                            elif fEvent33 == 2:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:302', false)
                            EventFlowSystemActor.SaveSetFromUIResult('cPhrase')
                            event_flags_npc['cNpcSave:InputPhrase'] = true
                        else:
                            run Retype
                    else:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:101', false)
                        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                            if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:200', false)
                            else:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:201', false)
                            EventFlowSystemActor.SaveSetFromUIResult('cPhrase')
                            event_flags_npc['cNpcSave:InputPhrase'] = true
                            event_flags_npc['cNpcSave:PlayerNamePhrase'] = true
                            fEvent37 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
                            if fEvent37 == 0:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:202', false)
                            elif fEvent37 == 1:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:203', false)
                            elif fEvent37 == 2:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:204', false)
                        else:
                            run Retype
                else:
                    run Cancell
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:006', true)
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:004', false)
            if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:100', true)
entrypoint Event14:
                EventFlowSystemActor.UISoftwareKeyboardHandling('cPhrase', true)
                if EventFlowSystemActor.UIResultMenuDecide():
                    EventFlowSystemActor.SetTagFromUIResult(0, 'cPhrase')
                    if MainNpc.NpcCheckSameWordFromSwkbd('cPhrase'):
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:102', false)
                        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                            fEvent33 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
                            if fEvent33 == 0:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:300', false)
                            elif fEvent33 == 1:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:301', false)
                            elif fEvent33 == 2:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:302', false)
                            EventFlowSystemActor.SaveSetFromUIResult('cPhrase')
                            event_flags_npc['cNpcSave:InputPhrase'] = true
                        else:
                            run Retype
                    else:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:101', false)
                        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                            if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:200', false)
                            else:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:201', false)
                            EventFlowSystemActor.SaveSetFromUIResult('cPhrase')
                            event_flags_npc['cNpcSave:InputPhrase'] = true
                            event_flags_npc['cNpcSave:PlayerNamePhrase'] = true
                            fEvent37 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
                            if fEvent37 == 0:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:202', false)
                            elif fEvent37 == 1:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:203', false)
                            elif fEvent37 == 2:
                                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:204', false)
                        else:
                            run Retype
                else:
                    run Cancell
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:008', true)
    elif MainNpc.CheckNpcApproachType():
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:001', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:100', true)
entrypoint Event14:
            EventFlowSystemActor.UISoftwareKeyboardHandling('cPhrase', true)
            if EventFlowSystemActor.UIResultMenuDecide():
                EventFlowSystemActor.SetTagFromUIResult(0, 'cPhrase')
                if MainNpc.NpcCheckSameWordFromSwkbd('cPhrase'):
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:102', false)
                    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        fEvent33 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
                        if fEvent33 == 0:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:300', false)
                        elif fEvent33 == 1:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:301', false)
                        elif fEvent33 == 2:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:302', false)
                        EventFlowSystemActor.SaveSetFromUIResult('cPhrase')
                        event_flags_npc['cNpcSave:InputPhrase'] = true
                    else:
                        run Retype
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:101', false)
                    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:200', false)
                        else:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:201', false)
                        EventFlowSystemActor.SaveSetFromUIResult('cPhrase')
                        event_flags_npc['cNpcSave:InputPhrase'] = true
                        event_flags_npc['cNpcSave:PlayerNamePhrase'] = true
                        fEvent37 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
                        if fEvent37 == 0:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:202', false)
                        elif fEvent37 == 1:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:203', false)
                        elif fEvent37 == 2:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:204', false)
                    else:
                        run Retype
            else:
                run Cancell
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:005', true)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:003', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:100', true)
entrypoint Event14:
            EventFlowSystemActor.UISoftwareKeyboardHandling('cPhrase', true)
            if EventFlowSystemActor.UIResultMenuDecide():
                EventFlowSystemActor.SetTagFromUIResult(0, 'cPhrase')
                if MainNpc.NpcCheckSameWordFromSwkbd('cPhrase'):
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:102', false)
                    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        fEvent33 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
                        if fEvent33 == 0:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:300', false)
                        elif fEvent33 == 1:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:301', false)
                        elif fEvent33 == 2:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:302', false)
                        EventFlowSystemActor.SaveSetFromUIResult('cPhrase')
                        event_flags_npc['cNpcSave:InputPhrase'] = true
                    else:
                        run Retype
                else:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:101', false)
                    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:200', false)
                        else:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:201', false)
                        EventFlowSystemActor.SaveSetFromUIResult('cPhrase')
                        event_flags_npc['cNpcSave:InputPhrase'] = true
                        event_flags_npc['cNpcSave:PlayerNamePhrase'] = true
                        fEvent37 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
                        if fEvent37 == 0:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:202', false)
                        elif fEvent37 == 1:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:203', false)
                        elif fEvent37 == 2:
                            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:204', false)
                    else:
                        run Retype
            else:
                run Cancell
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachB_Habit:007', false)
    return

