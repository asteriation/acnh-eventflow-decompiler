flow Ceremony_Bridge:
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:261', false)
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    if event_flags_system['cPlayer:ContributedTodaysCeremonyBridgeorSlope']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:262', false)
        run Event265
    else:
        run Ceremony_Ending
    return

flow Ceremony_Campsite:
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:251', false)
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    if event_flags_system['cPlayer:MakeVillagePlayerFlag']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:252', false)
entrypoint Event265:
        EventFlowSystemActor.CeremonyLookAt('cMainPlayer', false, false, 0.0, 0.0, 0.0, false)
        Npc_1.TurnNeck(11)
        Npc_1.TurnBody(12, 0.0)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:005', false)
        fEvent269 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent269 == 0:
            Npc_1.CharacterEmoticonAction('BigSmile', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(30)
        elif fEvent269 == 2:
            Npc_1.CharacterEmoticonAction('SmugFace', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        elif fEvent269 == 1:
            Npc_1.CharacterEmoticonAction('Laughing', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        fork:
            branch0:
            branch1:
                MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
            branch2:
                EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', true)
        MainNpc.TurnNeck(11)
        MainNpc.TurnBody(12, 0.0)
        EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
        EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:006', false)
        run Ceremony_Ending
    else:
        run Ceremony_Ending
    return

flow Ceremony_Ending:
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:003_01', false)
    EventFlowSystemActor.CeremonyEquipCracker(6, 0)
    EventFlowSystemActor.CeremonyTurn('cCamera', false, false, false)
    EventFlowSystemActor.CeremonyLookAt('cCamera', false, false, 0.0, -32.0, 0.0, false)
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:003_02', false)
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:003_03', true)
    EventFlowSystemActor.CameraSetDemoExtraParam('cDefault', 'cCeremonyTakePhoto')
    EventFlowSystemActor.CeremonyUseCracker()
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Smiling', -1, 'Smiling', 'HappyFlower', 'Smiling', 'HappyFlower', 'HappyDance', 'Smiling', 'Clapping', 'Clapping', 'HappyDance', false)
    EventFlowSystemActor.WaitFrame(105)
    EventFlowSystemActor.CameraSetDemoExtraParam('cDefault', '')
    EventFlowSystemActor.CeremonyEmoticon('Smiling', -1, 'Smiling', 'Smiling', 'EmotEnd', 'Smiling', 'Smiling', 'EmotEnd', 'EmotEnd', 'Smiling', 'Smiling', false)
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:004_01', false)
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:004_02', true)
    MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
    EventFlowSystemActor.NextLPFadeOff()
    EventFlowSystemActor.SystemBGMVolumeFadeOut(2, 5.0, 0.0)
    EventFlowSystemActor.ReturnStage('', 'cCircle', 'cCircle', 'cBlack', 1.0, 1.0)
    EventFlowSystemActor.SoundDuckingOff(38)
    EventFlowSystemActor.SleepInsect('cAwake')
    return

flow Ceremony_Market_Large:
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:211', false)
    MainNpc.TurnNeck(1)
    MainNpc.TurnBody(12, -10.0)
    EventFlowSystemActor.CeremonyLookAt('cGuest1', true, true, 0.0, 0.0, 0.0, false)
    fork:
        branch0:
        branch1:
            Npc_1.TurnNeck(11)
            Npc_1.TurnBody(12, 0.0)
        branch2:
            Npc_2.TurnNeck(1)
    Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:212', false)
    EventFlowSystemActor.CeremonyLookAt('cGuest2', true, true, 0.0, 0.0, 0.0, false)
    fork:
        branch0:
        branch1:
            MainNpc.TurnNeck(2)
            MainNpc.TurnBody(12, 10.0)
        branch2:
            Npc_1.TurnNeck(2)
        branch3:
            Npc_2.TurnNeck(11)
            Npc_2.TurnBody(12, 0.0)
    Npc_2.OpenMessageWindow(false, 'TalkSNPC/Event/SP_Ceremony:213')
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Blushing', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    MainNpc.TurnNeck(11)
    MainNpc.TurnBody(12, 0.0)
    EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
    EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:214', false)
    if event_flags_system['cPlayer:MakeVillagePlayerFlag']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:215', false)
        EventFlowSystemActor.CeremonyLookAt('cMainPlayer', false, false, 0.0, 0.0, 0.0, false)
        Npc_3.TurnNeck(11)
        Npc_3.TurnBody(12, 0.0)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:005', false)
        fEvent230 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent230 == 0:
            Npc_3.CharacterEmoticonAction('BigSmile', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(30)
        elif fEvent230 == 2:
            Npc_3.CharacterEmoticonAction('SmugFace', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        elif fEvent230 == 1:
            Npc_3.CharacterEmoticonAction('Laughing', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        fork:
            branch0:
            branch1:
                MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
            branch2:
                EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', true)
        MainNpc.TurnNeck(11)
        MainNpc.TurnBody(12, 0.0)
        EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
        EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:006', false)
        run Ceremony_Ending
    else:
        run Ceremony_Ending
    return

flow Ceremony_Market_Small:
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:201_01', false)
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:201_02', false)
    MainNpc.TurnNeck(1)
    MainNpc.TurnBody(12, -10.0)
    EventFlowSystemActor.CeremonyLookAt('cGuest1', true, true, 0.0, 0.0, 0.0, false)
    fork:
        branch0:
        branch1:
            Npc_1.TurnNeck(11)
            Npc_1.TurnBody(12, 0.0)
        branch2:
            Npc_2.TurnNeck(1)
    Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:202', false)
    EventFlowSystemActor.CeremonyLookAt('cGuest2', true, true, 0.0, 0.0, 0.0, false)
    fork:
        branch0:
        branch1:
            MainNpc.TurnNeck(2)
            MainNpc.TurnBody(12, 10.0)
        branch2:
            Npc_1.TurnNeck(2)
        branch3:
            Npc_2.TurnNeck(11)
            Npc_2.TurnBody(12, 0.0)
    Npc_2.OpenMessageWindow(false, 'TalkSNPC/Event/SP_Ceremony:203')
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Blushing', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    MainNpc.TurnNeck(11)
    MainNpc.TurnBody(12, 0.0)
    EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
    EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:204', false)
    if event_flags_system['cPlayer:MakeVillagePlayerFlag']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:205', false)
        EventFlowSystemActor.CeremonyLookAt('cMainPlayer', false, false, 0.0, 0.0, 0.0, false)
        Npc_3.TurnNeck(11)
        Npc_3.TurnBody(12, 0.0)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:005', false)
        fEvent246 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent246 == 0:
            Npc_3.CharacterEmoticonAction('BigSmile', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(30)
        elif fEvent246 == 2:
            Npc_3.CharacterEmoticonAction('SmugFace', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        elif fEvent246 == 1:
            Npc_3.CharacterEmoticonAction('Laughing', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        fork:
            branch0:
            branch1:
                MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
            branch2:
                EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', true)
        MainNpc.TurnNeck(11)
        MainNpc.TurnBody(12, 0.0)
        EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
        EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:006', false)
        run Ceremony_Ending
    else:
        run Ceremony_Ending
    return

flow Ceremony_Museum:
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:221', false)
    MainNpc.TurnNeck(1)
    MainNpc.TurnBody(12, 10.0)
    EventFlowSystemActor.CeremonyLookAt('cGuest1', true, true, 0.0, 0.0, 0.0, false)
    Npc_1.TurnNeck(11)
    Npc_1.TurnBody(12, 0.0)
    Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:222', false)
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Blushing', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    MainNpc.TurnNeck(11)
    MainNpc.TurnBody(12, 0.0)
    EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
    EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:223', false)
    if event_flags_system['cPlayer:OwlDonationDone']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:224', false)
        EventFlowSystemActor.CeremonyLookAt('cMainPlayer', false, false, 0.0, 0.0, 0.0, false)
        Npc_2.TurnNeck(11)
        Npc_2.TurnBody(12, 0.0)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:005', false)
        fEvent182 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent182 == 0:
            Npc_2.CharacterEmoticonAction('BigSmile', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(30)
        elif fEvent182 == 2:
            Npc_2.CharacterEmoticonAction('SmugFace', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        elif fEvent182 == 1:
            Npc_2.CharacterEmoticonAction('Laughing', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        fork:
            branch0:
            branch1:
                MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
            branch2:
                EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', true)
        MainNpc.TurnNeck(11)
        MainNpc.TurnBody(12, 0.0)
        EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
        EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:006', false)
        run Ceremony_Ending
    else:
        run Ceremony_Ending
    return

flow Ceremony_Museum_Large:
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:281', false)
    MainNpc.TurnNeck(1)
    MainNpc.TurnBody(12, 10.0)
    EventFlowSystemActor.CeremonyLookAt('cGuest1', true, true, 0.0, 0.0, 0.0, false)
    Npc_1.TurnNeck(11)
    Npc_1.TurnBody(12, 0.0)
    Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:282', false)
    if not EventFlowSystemActor.MuseumDonationNumCheck(80):
        Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:283', false)
    elif EventFlowSystemActor.MuseumDonationNumCheck(140):
        Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:285', false)
    else:
        Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:284', false)
    Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:286', false)
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Blushing', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    MainNpc.TurnNeck(11)
    MainNpc.TurnBody(12, 0.0)
    EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
    EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:287', false)
    if event_flags_system['cPlayer:OwlShowPaintingMyself']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:288', false)
        EventFlowSystemActor.CeremonyLookAt('cMainPlayer', false, false, 0.0, 0.0, 0.0, false)
        Npc_2.TurnNeck(11)
        Npc_2.TurnBody(12, 0.0)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:005', false)
        fEvent371 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent371 == 0:
            Npc_2.CharacterEmoticonAction('BigSmile', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(30)
        elif fEvent371 == 2:
            Npc_2.CharacterEmoticonAction('SmugFace', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        elif fEvent371 == 1:
            Npc_2.CharacterEmoticonAction('Laughing', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        fork:
            branch0:
            branch1:
                MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
            branch2:
                EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', true)
        MainNpc.TurnNeck(11)
        MainNpc.TurnBody(12, 0.0)
        EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
        EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:006', false)
        run Ceremony_Ending
    else:
        run Ceremony_Ending
    return

flow Ceremony_Office:
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:231', false)
    MainNpc.TurnNeck(2)
    MainNpc.TurnBody(12, 10.0)
    EventFlowSystemActor.CeremonyLookAt('cGuest1', true, true, 0.0, 0.0, 0.0, false)
    Npc_2.TurnNeck(11)
    Npc_2.TurnBody(12, 0.0)
    Npc_2.OpenMessageWindow(false, 'TalkSNPC/Event/SP_Ceremony:232')
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Blushing', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    MainNpc.TurnNeck(11)
    MainNpc.TurnBody(12, 0.0)
    EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
    EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:233', false)
    if event_flags_system['cPlayer:MakeVillagePlayerFlag']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:234', false)
        EventFlowSystemActor.CeremonyLookAt('cMainPlayer', false, false, 0.0, 0.0, 0.0, false)
        Npc_1.TurnNeck(11)
        Npc_1.TurnBody(12, 0.0)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:005', false)
        fEvent199 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent199 == 0:
            Npc_1.CharacterEmoticonAction('BigSmile', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(30)
        elif fEvent199 == 2:
            Npc_1.CharacterEmoticonAction('SmugFace', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        elif fEvent199 == 1:
            Npc_1.CharacterEmoticonAction('Laughing', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        fork:
            branch0:
            branch1:
                MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
            branch2:
                EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', true)
        MainNpc.TurnNeck(11)
        MainNpc.TurnBody(12, 0.0)
        EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
        EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:006', false)
        run Ceremony_Ending
    else:
        run Ceremony_Ending
    return

flow Ceremony_Slope:
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:271', false)
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    if event_flags_system['cPlayer:ContributedTodaysCeremonyBridgeorSlope']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:272', false)
        run Event265
    else:
        run Ceremony_Ending
    return

flow Ceremony_Tailor:
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:241', false)
    MainNpc.TurnNeck(1)
    MainNpc.TurnBody(12, -10.0)
    EventFlowSystemActor.CeremonyLookAt('cGuest1', true, true, 0.0, 0.0, 0.0, false)
    fork:
        branch0:
        branch1:
            Npc_1.TurnNeck(11)
            Npc_1.TurnBody(12, 0.0)
        branch2:
            Npc_2.TurnNeck(1)
    Npc_1.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:242', false)
    EventFlowSystemActor.CeremonyLookAt('cGuest2', true, true, 0.0, 0.0, 0.0, false)
    fork:
        branch0:
        branch1:
            MainNpc.TurnNeck(2)
            MainNpc.TurnBody(12, 10.0)
        branch2:
            Npc_1.TurnNeck(2)
        branch3:
            Npc_2.TurnNeck(11)
            Npc_2.TurnBody(12, 0.0)
    Npc_2.OpenMessageWindow(false, 'TalkSNPC/Event/SP_Ceremony:243')
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Blushing', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    MainNpc.TurnNeck(11)
    MainNpc.TurnBody(12, 0.0)
    EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
    EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
    MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:244', false)
    if event_flags_system['cPlayer:MakeVillagePlayerFlag']:
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:245', false)
        EventFlowSystemActor.CeremonyLookAt('cMainPlayer', false, false, 0.0, 0.0, 0.0, false)
        Npc_3.TurnNeck(11)
        Npc_3.TurnBody(12, 0.0)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:005', false)
        fEvent214 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent214 == 0:
            Npc_3.CharacterEmoticonAction('BigSmile', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(30)
        elif fEvent214 == 2:
            Npc_3.CharacterEmoticonAction('SmugFace', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        elif fEvent214 == 1:
            Npc_3.CharacterEmoticonAction('Laughing', '', 0, true, false)
            EventFlowSystemActor.WaitFrame(40)
        fork:
            branch0:
            branch1:
                MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
            branch2:
                EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', true)
        MainNpc.TurnNeck(11)
        MainNpc.TurnBody(12, 0.0)
        EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
        EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
        MainNpc.OpenMessageWindow('TalkSNPC/Event/SP_Ceremony:006', false)
        run Ceremony_Ending
    else:
        run Ceremony_Ending
    return

flow Root:
    EventFlowSystemActor.SleepInsect('cSleep')
    EventFlowSystemActor.CeremonyTurn('cDefault', false, true, false)
    EventFlowSystemActor.SoundDuckingOn(38)
    EventFlowSystemActor.WaitFaderSleep()
    EventFlowSystemActor.WaitFrame(60)
    EventFlowSystemActor.SetTagStructureName(0, 'cCeremony')
    EventFlowSystemActor.CeremonyEmoticon('EmotEnd', -1, 'EmotEnd', 'EmotEnd', 'EmotEnd', 'Smiling', 'EmotEnd', 'EmotEnd', 'EmotEnd', 'Smiling', 'EmotEnd', false)
    if EventFlowSystemActor.IsBadSightCeremony():
        MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:007', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:001', false)
    fEvent99 = EventFlowSystemActor.CeremonyType()
    if fEvent99 == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:001_01', true)
    elif fEvent99 == 1:
        MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:001_02', true)
    elif fEvent99 == 2:
        if EventFlowSystemActor.MuseumCeremonyType() == 0:
            run sub_Event104
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:001_02', true)
    elif fEvent99 in (3, 4, 5, 6, 7):
        run sub_Event104
    MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, false)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
            EventFlowSystemActor.CeremonyEmoticon('FaintSmile', -1, 'FaintSmile', 'EmotEnd', 'EmotEnd', 'Smiling', 'FaintSmile', 'EmotEnd', 'EmotEnd', 'Smiling', 'FaintSmile', false)
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:002', false)
    EventFlowSystemActor.CeremonyEmoticon('EmotEnd', -1, 'EmotEnd', 'EmotEnd', 'EmotEnd', 'EmotEnd', 'EmotEnd', 'EmotEnd', 'EmotEnd', 'EmotEnd', 'EmotEnd', false)
    EventFlowSystemActor.CeremonyLookAt('cRco', false, true, 0.0, 0.0, 0.0, false)
    fEvent17 = EventFlowSystemActor.CeremonyType()
    if fEvent17 == 6:
        if EventFlowSystemActor.BridgeNum('cNoReserve', 2):
            run sub_Event105
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:002_03', false)
    elif fEvent17 == 7:
        MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:002_02', false)
    elif fEvent17 == 2:
        if EventFlowSystemActor.MuseumCeremonyType() == 0:
            run sub_Event14
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:008', false)
    elif fEvent17 in (1, 3, 4, 5):
        run sub_Event105
    elif fEvent17 == 0:
        run sub_Event14
    fEvent1 = EventFlowSystemActor.CeremonyType()
    if fEvent1 == 5:
        run Ceremony_Campsite
    elif fEvent1 == 6:
        run Ceremony_Bridge
    elif fEvent1 == 7:
        run Ceremony_Slope
    elif fEvent1 == 0:
        run Ceremony_Market_Small
    elif fEvent1 == 1:
        run Ceremony_Market_Large
    elif fEvent1 == 3:
        run Ceremony_Office
    elif fEvent1 == 4:
        run Ceremony_Tailor
    elif fEvent1 == 2:
        if EventFlowSystemActor.MuseumCeremonyType() == 0:
            run Ceremony_Museum
        else:
            run Ceremony_Museum_Large
    return

flow sub_Event104:
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:001_01', true)

flow sub_Event105:
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:002_02', false)

flow sub_Event14:
    MainNpc.OpenMessageWindow('TalkSNpc/Event/SP_Ceremony:002_01', false)

