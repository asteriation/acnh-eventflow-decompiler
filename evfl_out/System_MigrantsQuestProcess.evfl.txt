flow ChkRcoImmQClearChkA:
    if event_flags_system['cLand:ImmQ_A_Complete']:
        run ChkRcoImmQClearChkASub
    elif (event_flags_system['cLand:ImmQ_A_Interior1Donate']) and (event_flags_system['cLand:ImmQ_A_Interior2Donate']) and (event_flags_system['cLand:ImmQ_A_Interior3Donate']) and (EventFlowSystemActor.IsSettlerQuestOutsideComplete(0, 3)):
        EventFlowSystemActor.CompleteSettlerQuestSubject(0)
        EventFlowSystemActor.DecideSettlerNpc(0)
entrypoint Event16:
        if not event_flags_system['cPlayer:ImmQHeardClearInfoA']:
entrypoint Event15:
            event_flags_system['cPlayer:ImmQHeardNoticeRemoveFtr'] = true
    run sub_tm!ChkRcoImmQClearChkA

flow ChkRcoImmQClearChkASub:
    run Event16
    return

flow ChkRcoImmQClearChkB:
    if event_flags_system['cLand:ImmQ_B_Complete']:
        run ChkRcoImmQClearChkBSub
    elif (event_flags_system['cLand:ImmQ_B_Interior1Donate']) and (event_flags_system['cLand:ImmQ_B_Interior2Donate']) and (event_flags_system['cLand:ImmQ_B_Interior3Donate']) and (EventFlowSystemActor.IsSettlerQuestOutsideComplete(1, 3)):
        EventFlowSystemActor.CompleteSettlerQuestSubject(1)
        EventFlowSystemActor.DecideSettlerNpc(1)
entrypoint Event17:
        if not event_flags_system['cPlayer:ImmQHeardClearInfoB']:
            run Event15
    run sub_tm!ChkRcoImmQClearChkB

flow ChkRcoImmQClearChkBSub:
    run Event17
    return

flow ChkRcoImmQClearChkC:
    if event_flags_system['cLand:ImmQ_C_Complete']:
        run ChkRcoImmQClearChkCSub
    elif (event_flags_system['cLand:ImmQ_C_Interior1Donate']) and (event_flags_system['cLand:ImmQ_C_Interior2Donate']) and (event_flags_system['cLand:ImmQ_C_Interior3Donate']) and (EventFlowSystemActor.IsSettlerQuestOutsideComplete(2, 3)):
        EventFlowSystemActor.CompleteSettlerQuestSubject(2)
        EventFlowSystemActor.DecideSettlerNpc(2)
entrypoint Event18:
        if not event_flags_system['cPlayer:ImmQHeardClearInfoC']:
            run Event15
    run sub_tm!ChkRcoImmQClearChkC

flow ChkRcoImmQClearChkCSub:
    run Event18
    return

flow CountClearNum:
    if event_flags_system['cLand:ImmQ_A_Complete']:
        entry_variables['ClearCount'] += 1
    if event_flags_system['cLand:ImmQ_B_Complete']:
        entry_variables['ClearCount'] += 1
    if event_flags_system['cLand:ImmQ_C_Complete']:
        entry_variables['ClearCount'] += 1
    if entry_variables['ClearCount'] == 2:
        subflow_results[0] = 0
    else:
        subflow_results[0] = 1
    return

flow CountReportNum:
    if event_flags_system['cPlayer:ImmQHeardClearInfoA']:
        entry_variables['ReportCount'] += 1
    if event_flags_system['cPlayer:ImmQHeardClearInfoB']:
        entry_variables['ReportCount'] += 1
    if event_flags_system['cPlayer:ImmQHeardClearInfoC']:
        entry_variables['ReportCount'] += 1
    if entry_variables['ReportCount'] == 1:
        subflow_results[1] = 0
    else:
        subflow_results[1] = 1
    return

flow ImmQClearChk:
    if (EventFlowSystemActor.IsMyVillage()) and (event_flags_system['cPlayer:ImmQRunningForPlayer']):
        run ChkRcoImmQClearChkA
        run ChkRcoImmQClearChkB
        run ChkRcoImmQClearChkC
        run RcoChkClearReportSkip
    return

flow RcoChkClearReportSkip:
    run CountClearNum
    if subflow_results[0] == 1:
        run CountReportNum
        if subflow_results[1] == 1:
            event_flags_system['cPlayer:ImmQHeardNoticeRemoveFtr'] = false
    return

flow sub_tm!ChkRcoImmQClearChkA:
    return

flow sub_tm!ChkRcoImmQClearChkB:
    return

flow sub_tm!ChkRcoImmQClearChkC:
    return

