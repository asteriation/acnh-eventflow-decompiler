flow ChkDiyComplete:
    if not event_flags_system['cPlayer:PynCompleteDiyMissionFlag']:
        if event_flags_system['cPlayer:PynGetFinalMissionRecipeFlag']:
            if EventFlowSystemActor.PlayerIsMadeCraftRecipe('cAND', 12412, 65534, 65534, 65534, 65534, 65534, 65534, 65534):
                event_flags_system['cPlayer:PynCompleteDiyMissionFlag'] = true
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:204', false)
                if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
entrypoint Event220:
                    MainNpc.NpcSetRewardRecipe(12578, false)
                    MainNpc.SetDeliveryItem(1, true)
                    MainNpc.NpcDelivery('Default', 1)
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:205', false)
                    MainNpc.NpcStartAS('NpcSpPynDance', false, False)
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:206', false)
                    MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:207', false)
                    event_flags_system['cPlayer:PynCompleteDiyMissionFlag'] = true
                    EventFlowSystemActor.ExitFlowchart()
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:208', false)
                    event_flags_system['cPlayer:PynCannotGetItemFlag'] = true
                    EventFlowSystemActor.ExitFlowchart()
        elif (EventFlowSystemActor.PlayerIsMadeCraftRecipe('cAND', 12398, 12414, 65534, 65534, 65534, 65534, 65534, 65534)) and (EventFlowSystemActor.IsMadeCraftUnlockRecipe('EasterNpc', 'cAND')) and (EventFlowSystemActor.IsMadeCraftUnlockRecipe('EasterRand', 'cAND')):
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:200', true)
            EventFlowSystemActor.WaitFrame(10)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:201', false)
            if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
                MainNpc.NpcSetRewardRecipe(12412, false)
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.NpcDelivery('Default', 1)
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:202', false)
                event_flags_system['cPlayer:PynGetFinalMissionRecipeFlag'] = true
                EventFlowSystemActor.ExitFlowchart()
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:203', false)
                event_flags_system['cPlayer:PynCannotGetItemFlag'] = true
                EventFlowSystemActor.ExitFlowchart()
    run sub_tm!ChkDiyComplete

flow ChkInventRecipe:
    if (not EventFlowSystemActor.PlayerHasCraftRecipe(65534, 'EasterGround')) and (not EventFlowSystemActor.PlayerHasCraftRecipe(65534, 'EasterRock')) and (not EventFlowSystemActor.PlayerHasCraftRecipe(65534, 'EasterLeaf')) and (not EventFlowSystemActor.PlayerHasCraftRecipe(65534, 'EasterForest')) and (not EventFlowSystemActor.PlayerHasCraftRecipe(65534, 'EasterSky')) and (not EventFlowSystemActor.PlayerHasCraftRecipe(65534, 'EasterFish')):
        subflow_results[1] = 0
    else:
        run sub_Event271
    return

flow DiyCompleteReward:
    run Event220
    return

flow ExcEggs_Cancel:
    run sub_Event126
    return

flow ExcEggs_EathEgg:
    MainNpc.PynSetExchangeItem(12509)
    run Event60
    return

flow ExcEggs_LeafEgg:
    MainNpc.PynSetExchangeItem(12511)
    run Event60
    return

flow ExcEggs_Loop:
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:161', false)
    fEvent122 = EventFlowSystemActor.GeneralTalkChoice5()
    if fEvent122 == 3:
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:162', false)
        fEvent123 = EventFlowSystemActor.GeneralTalkChoice5()
        if fEvent123 == 3:
            run ExcEggs_Loop
        elif fEvent123 == 4:
            run ExcEggs_Cancel
        elif fEvent123 == 2:
            run ExcEggs_EathEgg
        elif fEvent123 == 1:
            run ExcEggs_SkyEgg
        elif fEvent123 == 0:
            run ExcEggs_WaterEgg
    elif fEvent122 == 4:
        run ExcEggs_Cancel
    elif fEvent122 == 0:
        run ExcEggs_StoneEgg
    elif fEvent122 == 1:
        run ExcEggs_LeafEgg
    elif fEvent122 == 2:
        run ExcEggs_WoodEgg
    return

flow ExcEggs_SkyEgg:
    MainNpc.PynSetExchangeItem(12513)
    run Event60
    return

flow ExcEggs_StoneEgg:
    MainNpc.PynSetExchangeItem(12510)
entrypoint Event60:
    MainNpc.SetItemName(0, 33, 8)
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:163', false)
    if MainNpc.PynHaveExchangeItemEnough():
        EventFlowSystemActor.UIItemSelectWindowHandling(65534, '', 'cItemSelect', '', 'cEasterExchange', false)
        if EventFlowSystemActor.UIResultMenuDecide():
            MainNpc.PynCalcExchangeEggNum()
            if MainNpc.PynIsEnableToExchangeEgg():
                MainNpc.SetDeliveryItem(4, false)
                MainNpc.NpcDelivery('Keep', 0)
                MainNpc.SetItemName(1, 14, 8)
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:164', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:166', false)
                    MainNpc.NpcDelivery('Default', 3)
                    MainNpc.PynDeleteTargetExchangeEgg()
                    MainNpc.SetDeliveryItem(33, false)
                    MainNpc.NpcDelivery('Default', 1)
                    MainNpc.PynAddExchangeItem()
                    MainNpc.NpcStartAS('NpcSpPynDance', false, False)
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:168', false)
                    MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:169', false)
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:174', false)
                    MainNpc.NpcDelivery('Default', 10)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:176', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:173', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:172', false)
    return

flow ExcEggs_WaterEgg:
    MainNpc.PynSetExchangeItem(12514)
    run Event60
    return

flow ExcEggs_WoodEgg:
    MainNpc.PynSetExchangeItem(12512)
    run Event60
    return

flow ExchangeEggs:
    run SetEggNumExchange
    if EventFlowSystemActor.HasKindItem('cKind', 'EasterEgg', ''):
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:160', false)
        fEvent118 = EventFlowSystemActor.GeneralTalkChoice5()
        if fEvent118 == 3:
            run ExcEggs_Loop
        elif fEvent118 == 2:
            run ExcEggs_EathEgg
        elif fEvent118 == 1:
            run ExcEggs_SkyEgg
        elif fEvent118 == 0:
            run ExcEggs_WaterEgg
        elif fEvent118 == 4:
            run sub_Event126
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:170', false)
    return

flow FirstGreeting:
    event_flags_system['cPlayer:PynTalkEasterDayFlag'] = true
    event_flags_system['cPlayerTemp:PynTalkNowFlag'] = true
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:100', false)
    if event_flags_system['cPlayer:PynTalkPreVisitDayFlag']:
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:101', false)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:102', false)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:103', false)
        MainNpc.NpcStartAS('NpcSpPynDance', false, False)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:104', false)
        MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:105', false)
        run SetEggNumBasket
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:106', false)
        if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:107', false)
            MainNpc.NpcSetRewardRecipe(12398, false)
            MainNpc.SetDeliveryItem(1, true)
            MainNpc.NpcDelivery('Default', 1)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:108', false)
            run sub_Event45
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:109', false)
            event_flags_system['cPlayer:PynCannotGetItemFlag'] = true
    else:
        event_flags_system['cPlayer:PynTalkBeforeFlag'] = true
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:111', false)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:112', false)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:013', false)
        MainNpc.NpcStartAS('NpcSpPynDance', false, False)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:014', false)
        MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:015', false)
        run SetEggNumBasket
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:106', false)
        if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:016', false)
            MainNpc.NpcSetRewardRecipe(12398, false)
            MainNpc.SetDeliveryItem(1, true)
            MainNpc.NpcDelivery('Default', 1)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:113', false)
            run sub_Event45
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:109', false)
            event_flags_system['cPlayer:PynCannotGetItemFlag'] = true
    return

flow FirstGreetingV:
    event_flags_system['cPlayerVisit:DC_PynTalkFlag'] = true
    event_flags_system['cPlayerTemp:PynTalkNowFlag'] = true
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:121', false)
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:111', false)
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:112', false)
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:013', false)
    MainNpc.NpcStartAS('NpcSpPynDance', false, False)
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:014', false)
    MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:015', false)
    run SetEggNumBasket
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:106', false)
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:122', false)
    return

flow GetEggBasket:
    entry_variables['EggNum'] = 1
    EventFlowSystemActor.SetTagFromSystem(0, 'cFlow', 'cDegit', '', 'EggNum')
    if EventFlowSystemActor.IsMyVillage():
        if event_flags_system['cPlayer:PynGetEggBasketFlag']:
            subflow_results[0] = 1
        else:
            subflow_results[0] = 0
    elif event_flags_system['cPlayerVisit:DC_PynGetEggBasketFlag']:
        subflow_results[0] = 1
    else:
        subflow_results[0] = 0
    if not EventFlowSystemActor.HasKindItem('cKind', 'EasterEgg', ''):
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:187', false)
        if subflow_results[0] == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:188_01', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:188_02', false)
        MainNpc.NpcStartAS('NpcSpPynDance', false, False)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:189', false)
        MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:190', false)
    elif subflow_results[0] == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:180_01', false)
        run sub_grp!Event200
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:180_02', false)
        run sub_grp!Event200
    return

flow InfoExcEggs:
    run Event73
    return

flow IntroCommon:
    run Event99
    return

flow Root:
    if EventFlowSystemActor.IsMyVillage():
        if not event_flags_system['cPlayer:PynTalkEasterDayFlag']:
            run FirstGreeting
        elif not event_flags_system['cPlayer:PynCannotGetItemFlag']:
            run ChkDiyComplete
            if not event_flags_system['cPlayer:PynExplainExchangeEggsFlag']:
                event_flags_system['cPlayerTemp:PynTalkNowFlag'] = true
                event_flags_system['cPlayer:PynExplainExchangeEggsFlag'] = true
entrypoint Event73:
                run SetEggNumExchange
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:130', false)
                run sub_Event103
            elif (not event_flags_system['cPlayer:PynExplainInventRecipeFlag']) and (not event_flags_system['cPlayer:PynGetFinalMissionRecipeFlag']) and (event_flags_system['cPlayer:PynInventRecipeFlag']):
                event_flags_system['cPlayerTemp:PynTalkNowFlag'] = true
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:131', false)
                event_flags_system['cPlayer:PynExplainInventRecipeFlag'] = true
                run sub_Event103
            else:
                if event_flags_system['cPlayerTemp:PynTalkNowFlag']:
entrypoint Event101:
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:152', false)
                else:
                    event_flags_system['cPlayerTemp:PynTalkNowFlag'] = true
                    if event_flags_system['cPlayer:PynCompleteDiyMissionFlag']:
entrypoint Event99:
                        MainNpc.NpcStartAS('NpcSpPynDance', false, False)
                        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:137', false)
                        MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
                        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:151', false)
                    elif event_flags_system['cPlayer:PynGetFinalMissionRecipeFlag']:
                        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:136_01', false)
                        MainNpc.NpcStartAS('NpcSpPynDance', false, False)
                        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:136_02', false)
                        MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
                        run sub_Event103
                    elif not MainNpc.PynCheckCraftItemNum(5):
                        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:132', false)
                        run sub_Event103
                    elif not MainNpc.PynCheckCraftItemNum(11):
                        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:133', false)
                        run sub_Event103
                    elif (not event_flags_system['cPlayer:PynExplainNnpcRecipeFlag']) and (not EventFlowSystemActor.IsMadeCraftUnlockRecipe('EasterNpc', 'cAND')):
                        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:135', false)
                        event_flags_system['cPlayer:PynExplainNnpcRecipeFlag'] = true
                        run sub_Event103
                    else:
                        EventFlowSystemActor.SetTagFromSystem(0, 'cEasterNoCraftItem', 'cDegit', '', 0)
                        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:134', false)
                        run sub_Event103
            fEvent104 = EventFlowSystemActor.GeneralTalkChoice3()
            if fEvent104 == 2:
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:153', false)
            elif fEvent104 == 0:
                run GetEggBasket
            elif fEvent104 == 1:
                run ExchangeEggs
        elif EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
            event_flags_system['cPlayer:PynCannotGetItemFlag'] = false
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:221', false)
            if not event_flags_system['cPlayer:PynGetFirstRecipeEasterDayFlag']:
                MainNpc.NpcSetRewardRecipe(12398, false)
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.NpcDelivery('Default', 1)
                if event_flags_system['cPlayer:PynTalkPreVisitDayFlag']:
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:222', false)
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:223', false)
                event_flags_system['cPlayer:PynGetFirstRecipeEasterDayFlag'] = true
            elif event_flags_system['cPlayer:PynGetFinalMissionRecipeFlag']:
                run DiyCompleteReward
            else:
                MainNpc.NpcSetRewardRecipe(12412, false)
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.NpcDelivery('Default', 1)
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:224', false)
                event_flags_system['cPlayer:PynGetFinalMissionRecipeFlag'] = true
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:220', false)
    elif not event_flags_system['cPlayerVisit:DC_PynTalkFlag']:
        run FirstGreetingV
    elif event_flags_system['cPlayerTemp:PynTalkNowFlag']:
        run TalkAgain
    else:
        event_flags_system['cPlayerTemp:PynTalkNowFlag'] = true
        if event_flags_system['cPlayerVisit:DC_PynExplainExchangeEggsFlag']:
            run IntroCommon
        else:
            event_flags_system['cPlayerVisit:DC_PynExplainExchangeEggsFlag'] = true
            run InfoExcEggs
    return

flow SetEggNumBasket:
    EventFlowSystemActor.SetTagFromSystem(0, 'cFlow', 'cDegit', '', 1)
    return

flow SetEggNumExchange:
    EventFlowSystemActor.SetTagFromSystem(0, 'cFlow', 'cDegit', '', 3)
    MainNpc.PynSetEggExchangeRate(3)
    return

flow TalkAgain:
    run Event101
    return

flow sub_Event103:
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:150', false)

flow sub_Event126:
    MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:171', false)
    return

flow sub_Event271:
    subflow_results[1] = 1

flow sub_Event45:
    event_flags_system['cPlayer:PynGetFirstRecipeEasterDayFlag'] = true

flow sub_grp!Event200:
    if not ((EventFlowSystemActor.HasTargetItem(12510, 1)) and (EventFlowSystemActor.HasTargetItem(12509, 1)) and (EventFlowSystemActor.HasTargetItem(12513, 1)) and (EventFlowSystemActor.HasTargetItem(12511, 1)) and (EventFlowSystemActor.HasTargetItem(12512, 1)) and (EventFlowSystemActor.HasTargetItem(12514, 1))):
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:191', false)
        MainNpc.NpcStartAS('NpcSpPynDance', false, False)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:189', false)
        MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:192', false)
    elif not EventFlowSystemActor.IsEnableToGetEggBasket(1):
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:193', false)
    elif subflow_results[0] == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:181_01', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            MainNpc.SetDeliveryItemAtRandom(12510, false, 'cVillageRemakePattern', 0)
            MainNpc.NpcDelivery('Default', 0)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:182', false)
            EventFlowSystemActor.DeleteTargetItem(12510, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12509, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12513, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12511, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12512, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12514, 'EggNum', true)
            MainNpc.SetDeliveryItemAtRandom(12438, true, 'cVillageRemakePattern', 0)
            MainNpc.NpcDelivery('Default', 1)
            if subflow_results[0] == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:183', false)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:184', false)
            MainNpc.NpcStartAS('NpcSpPynDance', false, False)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:185', false)
            MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:186', false)
            if EventFlowSystemActor.IsMyVillage():
                event_flags_system['cPlayer:PynGetEggBasketFlag'] = true
            else:
                event_flags_system['cPlayerVisit:DC_PynGetEggBasketFlag'] = true
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:194', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:181_02', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            MainNpc.SetDeliveryItemAtRandom(12510, false, 'cVillageRemakePattern', 0)
            MainNpc.NpcDelivery('Default', 0)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:182', false)
            EventFlowSystemActor.DeleteTargetItem(12510, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12509, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12513, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12511, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12512, 'EggNum', true)
            EventFlowSystemActor.DeleteTargetItem(12514, 'EggNum', true)
            MainNpc.SetDeliveryItemAtRandom(12438, true, 'cVillageRemakePattern', 0)
            MainNpc.NpcDelivery('Default', 1)
            if subflow_results[0] == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:183', false)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:184', false)
            MainNpc.NpcStartAS('NpcSpPynDance', false, False)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:185', false)
            MainNpc.CharacterEmoticonAction('EmotEnd', '', 0, true, false)
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:186', false)
            if EventFlowSystemActor.IsMyVillage():
                event_flags_system['cPlayer:PynGetEggBasketFlag'] = true
            else:
                event_flags_system['cPlayerVisit:DC_PynGetEggBasketFlag'] = true
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/pyn/SP_pyn:194', false)

flow sub_tm!ChkDiyComplete:
    return

