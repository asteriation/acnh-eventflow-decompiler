flow Again:
    if EventFlowSystemActor.MuseumComplete():
        run Select3_Comp
    else:
        fEvent27 = EventFlowSystemActor.MuseumLevel()
        if fEvent27 == BlathersTent:
            if EventFlowSystemActor.MuseumDonationNumCheck(20):
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:093', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    run SNPC_owl_02_Museum_Judgment::Root
                else:
                    run End
            else:
                run Select3_Again
        elif fEvent27 == BlathersMuseumNoArt:
            if event_flags_system['cLand:OwlFoundFossil']:
                run Select45_Again
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:095', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    run SNPC_owl_01_Museum_Donation::Root
                else:
                    run End
        elif fEvent27 == BlathersMuseumArt:
            run Select4_Again
    return

flow CmnTodayTalk1st:
    event_flags_system['cPlayer:FutaTalkedInMuseumToday'] = true
    run Greet
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:008', false)
    run SNPC_owl_23_Museum_DiveFish::ChkCompReport
    run SNPC_owl_24_Museum_StampRally::Root
entrypoint Event2:
    if not EventFlowSystemActor.MuseumComplete():
        if event_flags_system['cLand:OwlFoundFossil']:
            run Select45
        else:
            run SNPC_owl_10_Tent::Sel_NoFoundFossil
    elif not event_flags_system['cPlayer:FutaExplanationDonationComp']:
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:014', false)
        event_flags_system['cPlayer:FutaExplanationDonationComp'] = true
        run Comp_Direct
    elif not event_flags_system['cLand:OwlWantsPainting']:
        run Select3_Comp
    elif (not event_flags_system['cLand:MuseumGrowupEnable2']) and (not event_flags_system['cLand:Museum3Built']):
        run SNPC_owl_22_Museum_RenualQuest::Select4_Painting
    else:
        run Select3_Comp
    return

flow Comp_Again:
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:091', false)
    run Event9
    return

flow Comp_Direct:
    run Event9
    return

flow DiveFish:
    if not event_flags_system['cLand:OwlFoundDiveFish']:
        run SNPC_owl_23_Museum_DiveFish::Select4_DiveFish
    elif event_flags_system['cPlayer:OwlShowDiveFishReport']:
        run Painting
    else:
        run SNPC_owl_23_Museum_DiveFish::TodayTalk1st
    return

flow DiveFish_Again:
    if event_flags_system['cLand:OwlFoundDiveFish']:
        run Painting_Again
    else:
        run SNPC_owl_23_Museum_DiveFish::Select5_DiveFish_Again
    return

flow End:
    fEvent14 = EventFlowSystemActor.MuseumLevel()
    if fEvent14 == BlathersTent:
        if not EventFlowSystemActor.MuseumDonationNumCheck(20):
            EventFlowSystemActor.SetTagFromSystem(0, 'cEventFlag', 'cDegit', 'cLand:DonationAmountForMuseum', 0)
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:112_01', false)
entrypoint Event16:
            EventFlowSystemActor.ExitFlowchart()
        elif EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:112_02', false)
entrypoint Event16:
            EventFlowSystemActor.ExitFlowchart()
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_01_MuseumTent:112_03', false)
entrypoint Event16:
            EventFlowSystemActor.ExitFlowchart()
    elif fEvent14 == BlathersMuseumNoArt:
        run PaintingReminder
        if event_flags_system['cLand:OwlFoundFossil']:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:015', true)
entrypoint Event16:
            EventFlowSystemActor.ExitFlowchart()
        else:
            EventFlowSystemActor.MessageSuspend()
            EventFlowSystemActor.WaitFrame(5)
            MainNpc.CharacterEmoticonAction('Greeting', '', 0, false, false)
            EventFlowSystemActor.WaitFrame(20)
entrypoint Event16:
            EventFlowSystemActor.ExitFlowchart()
    elif fEvent14 == BlathersMuseumArt:
        if event_flags_system['cLand:OwlFoundFossil']:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:015', true)
entrypoint Event16:
            EventFlowSystemActor.ExitFlowchart()
        else:
            EventFlowSystemActor.MessageSuspend()
            EventFlowSystemActor.WaitFrame(5)
            MainNpc.CharacterEmoticonAction('Greeting', '', 0, false, false)
            EventFlowSystemActor.WaitFrame(20)
entrypoint Event16:
            EventFlowSystemActor.ExitFlowchart()
    return

flow Greet:
    if EventFlowSystemActor.EnvSameDate('cNewYear', 'cNowTime'):
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:007', false)
    else:
        fEvent20 = EventFlowSystemActor.EnvTimeZone()
        if fEvent20 in (Morning0, Morning1):
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:004', false)
        elif fEvent20 in (Afternoon0, Afternoon1):
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:005', false)
        elif fEvent20 in (Evening0, Evening1):
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:006', false)
    return

flow Painting:
    run SNPC_owl_22_Museum_RenualQuest::TodayTalk1st
    run Select4
    return

flow PaintingReminder:
    if (event_flags_system['cLand:OwlWantsPainting']) and (not event_flags_system['cLand:MuseumGrowupEnable2']) and (event_flags_system['cPlayer:OwlPaintingQuestExplain']) and (not event_flags_system['cPlayer:OwlPaintingQuestReminder']):
        event_flags_system['cPlayer:OwlPaintingQuestReminder'] = true
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_22_Museum_RenualQuest:003', false)
        run Event16
    return

flow Painting_Again:
    if not event_flags_system['cLand:OwlWantsPainting']:
        run Select4_Again
    elif event_flags_system['cLand:MuseumGrowupEnable2']:
        run Select4_Again
    else:
        run SNPC_owl_22_Museum_RenualQuest::Select5_Painting_Again
    return

flow Select3_Again:
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:094', false)
entrypoint Event31:
    fEvent31 = EventFlowSystemActor.GeneralTalkChoice3()
    if fEvent31 == 0:
        run SNPC_owl_01_Museum_Donation::Root
    elif fEvent31 == 1:
        run SNPC_owl_02_Museum_Judgment::Root
    elif fEvent31 == 2:
        run End
    return

flow Select3_Comp:
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:010', false)
entrypoint Event9:
    fEvent9 = EventFlowSystemActor.GeneralTalkChoice3()
    if fEvent9 == 0:
        run SNPC_owl_02_Museum_Judgment::Root
    elif fEvent9 == 1:
        run SNPC_owl_03_Museum_Commentary::Root
    elif fEvent9 == 2:
        run End
    return

flow Select3_Direct:
    run Event31
    return

flow Select4:
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:011', false)
entrypoint Event36:
    fEvent36 = EventFlowSystemActor.GeneralTalkChoice4()
    if fEvent36 == 0:
        run SNPC_owl_01_Museum_Donation::Root
    elif fEvent36 == 1:
        run SNPC_owl_02_Museum_Judgment::Root
    elif fEvent36 == 2:
        run SNPC_owl_03_Museum_Commentary::Root
    elif fEvent36 == 3:
        run End
    return

flow Select45:
    run DiveFish
    return

flow Select45_Again:
    run DiveFish_Again
    return

flow Select4_Again:
    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:092', false)
    run Event36
    return

flow Select4_Direct:
    run Event36
    return

flow Talk:
    run Event2
    return

