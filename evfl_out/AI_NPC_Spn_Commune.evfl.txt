flow Init:
    MainNpc.NpcChangeHeadCtrlMode('cPlayer', true)
    MainNpc.NpcAISetting(8, true)
    MainNpc.NpcRegistAIBlackBoard('DemoSpeak', 0)
    return

flow Root:
    if (not MainNpc.NpcCheckStateSelectTiming('cInit')) and (MainNpc.NpcBlackBoard('DemoSpeak', 1)):
        MainNpc.NpcAISetting(3, false)
        MainNpc.NpcAISetting(2, false)
        MainNpc.NpcAISetting(4, false)
        MainNpc.NpcSetAIBlackBoard('DemoSpeak', 0)
        MainNpc.NpcAISetting(3, false)
        MainNpc.NpcChangeHeadCtrlMode('cNoLook', false)
        run AI_NPC_Common::ContinueSpeak
    else:
        if (EventFlowSystemActor.TermEventNow('JuneBride', false)) and (event_flags_system['cPlayer:CommuneIslandAvailable']):
            if not event_flags_system['cPlayer:SpnJuneBrideTalkEventFrag']:
                MainNpc.NpcAISetPos(90.0, 22.0, 25.0, true)
                MainNpc.NpcChangeConversationPretenseState('cConversationPretense', 'Root', 'SNPC_spn', '', false, true, 0, 'alw')
                MainNpc.NpcChangeHeadCtrlMode('cNoLook', false)
            elif event_flags_system['cLandTemp:JuneBrideCeremonyDemoAfterNow']:
                MainNpc.NpcAISetPos(69.0, 7.0, 14.0, true)
                MainNpc.NpcDisableServiceMotion()
                MainNpc.NpcChangeAIState('cWait', '', 'Root', '', false, true)
            elif (EventFlowSystemActor.IsReturnJuneBridePhotoStudio()) and (MainNpc.NpcCheckStateSelectTiming('cInit')):
                MainNpc.NpcChangeAIState('cSpnReturnJB', 'SNPC_spn', 'Root', '', false, true)
            else:
                run sub_Event0
        else:
            run sub_Event0
    return

flow sub_Event0:
    MainNpc.NpcChangeSpNpcTurnState('cSpNpcTurn', 'Root', 'SNPC_spn', '', false, true, 30, 2, 0, 0, true, false, '', '')

