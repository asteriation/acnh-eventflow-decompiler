flow Talk_Ftr:
    MainNpc.SetItemName(0, 24, 0)
    if event_flags_system['cPlayer:CampQuestAccept']:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:301', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:302', false)
    return

flow Talk_QuestClear:
    MainNpc.SetItemName(0, 24, 0)
    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:201', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        EventFlowSystemActor.UIItemSelectWindowHandling(65534, 'Ftr', 'cItemSelect', '', 'cCamperQuest', false)
        if EventFlowSystemActor.UIResultMenuDecide():
            MainNpc.SetItemName(0, 4, 0)
            MainNpc.SetDeliveryItem(4, true)
            MainNpc.NpcDelivery('Keep', 0)
            fEvent49 = MainNpc.CheckCamperNpcMovePoint()
            if fEvent49 == 2:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:207', false)
                MainNpc.NpcDelivery('Default', 3)
                EventFlowSystemActor.SelectRewardItemCampGame('cVeryGood')
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.SetItemName(0, 14, 4)
                fEvent45 = MainNpc.CheckCamperNpcMovePoint()
                if fEvent45 == 0:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                elif fEvent45 == 1:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202_02', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                elif fEvent45 == 2:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202_03', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
            elif fEvent49 == 1:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:206', false)
                MainNpc.NpcDelivery('Default', 3)
                EventFlowSystemActor.SelectRewardItemCampGame('cVeryGood')
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.SetItemName(0, 14, 4)
                fEvent45 = MainNpc.CheckCamperNpcMovePoint()
                if fEvent45 == 0:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                elif fEvent45 == 1:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202_02', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                elif fEvent45 == 2:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202_03', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
            elif fEvent49 == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:205', false)
                MainNpc.NpcDelivery('Default', 3)
                EventFlowSystemActor.SelectRewardItemCampGame('cVeryGood')
                MainNpc.SetDeliveryItem(1, true)
                MainNpc.SetItemName(0, 14, 4)
                fEvent45 = MainNpc.CheckCamperNpcMovePoint()
                if fEvent45 == 0:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                elif fEvent45 == 1:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202_02', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                elif fEvent45 == 2:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:202_03', false)
                    MainNpc.NpcDelivery('Default', 1)
                    fEvent54 = MainNpc.CheckCamperNpcMovePoint()
                    if fEvent54 == 0:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 1:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_02', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
                    elif fEvent54 == 2:
                        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:209_03', false)
                        event_flags_system['cLand:CampQuestClear'] = true
                        MainNpc.SaveCampNpcQuestFtr()
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:208', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:204', false)
    return

flow Talk_QuestProgress:
    MainNpc.SetItemName(0, 24, 0)
    if event_flags_system['cPlayer:CampQuestAccept']:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:101', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:102', false)
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:103', false)
            event_flags_system['cPlayer:CampQuestAccept'] = false
            event_flags_system['cLand:CampQuestInProgress'] = false
            event_flags_system['cPlayer:CampQuestRejected'] = true
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:104', false)
    return

flow Talk_QuestStart:
    MainNpc.SetItemName(0, 24, 0)
    if event_flags_system['cPlayer:CampQuestRejected']:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:008', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            event_flags_system['cPlayer:CampQuestRejected'] = false
            run sub_grp!Event6
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:009', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:001', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            run sub_grp!Event6
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:006', false)
            event_flags_system['cPlayer:CampQuestRejected'] = true
    return

flow Talk_QuestStart_Re:
    MainNpc.SetItemName(0, 24, 0)
    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:007', false)
    event_flags_system['cPlayer:CampQuestRecipiFailed'] = false
    MainNpc.SetDeliveryItem(25, true)
    MainNpc.NpcDelivery('Default', 1)
    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:005', false)
    event_flags_system['cLand:CampQuestInProgress'] = true
    event_flags_system['cPlayer:CampQuestAccept'] = true
    return

flow sub_grp!Event6:
    if (not EventFlowSystemActor.PlayerHasCampCraftRecipe()) and (not event_flags_system['cPlayer:CampQuestRecipeGet']):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:003', false)
        if EventFlowSystemActor.ShoppingCapacity(5794, 'cItemName'):
            MainNpc.SetDeliveryItem(25, true)
            MainNpc.NpcDelivery('Default', 1)
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:005', false)
            event_flags_system['cPlayer:CampQuestRecipeGet'] = true
            event_flags_system['cLand:CampQuestInProgress'] = true
            event_flags_system['cPlayer:CampQuestAccept'] = true
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:004', false)
            event_flags_system['cPlayer:CampQuestRecipiFailed'] = true
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Spot/BO_Spot_Camp_Quest:002', false)
        event_flags_system['cLand:CampQuestInProgress'] = true
        event_flags_system['cPlayer:CampQuestAccept'] = true

