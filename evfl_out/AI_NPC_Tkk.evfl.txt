flow Init:
    MainNpc.NpcAISetting(0, true)
    MainNpc.NpcAISetting(1, true)
    MainNpc.NpcAISetting(8, true)
    MainNpc.SetDefaultWaitAs('cTkkAGuitarWait')
    MainNpc.NpcAISetLookIKParamKey('NeckOnly')
    MainNpc.NpcAISetRequestSpeakFunc('cSitDownTkk', true)
    MainNpc.NpcAISetting(14, true)
    MainNpc.NpcChangeHeadCtrlMode('cNoLook', false)
    return

flow Root:
    run SetupTalk
    if MainNpc.TkkFreeQuery2('cTkkQueryType_PlayReady'):
        MainNpc.NpcChangeWaitState('cWait', 'Root', 'SNPC_tkk', '', false, true, 0, true, '')
    else:
        MainNpc.NpcChangeAIState('cTkkWait', 'SNPC_tkk', 'Root', '', false, true)
    return

flow SetupTalk:
    MainNpc.NpcAISetting(2, false)
    return

flow SitDown_tkk:
    MainNpc.SetNpcSpeakFlow('Root', 'SNPC_tkk_Live')
    return

