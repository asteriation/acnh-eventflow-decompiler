flow React_Quest_Sick:
    if (not event_flags_system['cPlayerTemp:SickQuestGossip']) and (not event_flags_system['cPlayer:SickQuestFirst']):
        MainNpc.SetNpcName(0, 7)
        fEvent17 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
        if fEvent17 == 0:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Quest_Sick:001', false)
        elif fEvent17 == 1:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Quest_Sick:002', false)
        elif fEvent17 == 2:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Quest_Sick:003', false)
        event_flags_system['cPlayerTemp:SickQuestGossip'] = true
        run NNPC_Talk_Situation::Facility_Chk
        EventFlowSystemActor.ExitFlowchart()
    return

flow Root:
    if (event_flag_npc['cNpcMemory:FirstMeetGreetAtThisVillage']) and (EventFlowSystemActor.IsMyVillage()):
        fEvent0 = MainNpc.NpcCanStartReactQuestTalk()
        if fEvent0 == 2:
            if event_flags_npc['cNpcMemory:TalkCountToday'] < 1:
                run React_Quest_Sick
        elif fEvent0 == 3:
            if (event_flag_npc['cNpcMemory:UncollectedFishishTreasureHunt']) and (EventFlowSystemActor.HasTargetItem(2545, 1)):
                run React_Quest_TreasureHunt
    return

flow React_Quest_TreasureHunt:
    run NNPC_Reaction_Sitting::StandingUp_Chk
    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Quest_TreasureHunt:001', true)
    MainNpc.SetDeliveryItemAtRandom(2545, true, 'cVillageRemakePattern', 0)
    MainNpc.NpcDelivery('Default', 0)
    EventFlowSystemActor.SystemDeletePlayerItem('cProgram', 1)
    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Quest_TreasureHunt:002', false)
    event_flags_npc['cNpcMemory:UncollectedFishishTreasureHunt'] = false
    MainNpc.NpcAddFriendship(1)
    run NNPC_Talk_Situation::Facility_Chk
    EventFlowSystemActor.ExitFlowchart()
    return

