flow Root:
    if not MainNpc.NpcIsAbleEquipSelectItem():
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_General:002', false)
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:221', false)
        MainNpc.NpcDelivery('"Default"', 3)
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:222', false)
        MainNpc.NpcAddFriendship(1)
    elif EventFlowSystemActor.UISelectedItemIsEquiped(0, 'cItemSelect', false):
        if EventFlowSystemActor.MultiKindItemSelectIncludeChoice5('cItemSelect', 5, 'Tops', 'OnePiece', 'Cap', 'Accessory') in (1, 2):
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_General:100', false)
            if MainNpc.IsNpcPlayerRelativeItem() != 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:104', false)
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_General:101', false)
            MainNpc.NpcDelivery('"Default"', 3)
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_General:102', false)
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_General:110', false)
            if MainNpc.IsNpcPlayerRelativeItem() != 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:104', false)
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_General:111', false)
            MainNpc.NpcDelivery('"Default"', 3)
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_General:112', false)
        MainNpc.NpcAddFriendship(1)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_General:001', false)
        if MainNpc.IsNpcPlayerRelativeItem() != 0:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:104', false)
        fEvent18 = EventFlowSystemActor.MultiKindItemSelectIncludeChoice5('cItemSelect', 5, 'Tops', 'OnePiece', 'Cap', 'Accessory')
        if fEvent18 == 0:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:206', true)
            MainNpc.NpcDelivery('"Default"', 4)
            MainNpc.UpdateNpcUsuallyTops('cCap')
        elif fEvent18 == 1:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:201', true)
            MainNpc.NpcDelivery('"Default"', 4)
            MainNpc.UpdateNpcUsuallyTops('cTops')
        elif fEvent18 == 2:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:202', true)
            MainNpc.NpcDelivery('"Default"', 4)
            MainNpc.UpdateNpcUsuallyTops('cTops')
        elif fEvent18 == 3:
            if any ('HeadHairAcce', '', '', '', '', '', '', '') in EventFlowSystemActor.CategoryItemSelect('cItemSelect'):
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:203', true)
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:204', true)
            MainNpc.NpcDelivery('"Default"', 4)
            MainNpc.UpdateNpcUsuallyTops('cCap')
        elif fEvent18 == 4:
            if any ('EyeAcce', 'EyeAcceBlind', '', '', '', '', '', '') in EventFlowSystemActor.CategoryItemSelect('cItemSelect'):
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:205', true)
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:206', true)
            MainNpc.NpcDelivery('"Default"', 4)
            MainNpc.UpdateNpcUsuallyTops('cAccessory')
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Select/BO_Select_Present:207', false)
        if MainNpc.DeliveryItemIsFavor():
            MainNpc.NpcSetShowFlag()
            MainNpc.NpcAddFriendship(2)
        else:
            MainNpc.NpcAddFriendship(1)
    return

