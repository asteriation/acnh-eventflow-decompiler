flow Root:
    MainNpc.SetApproachTalkItem(2)
    MainNpc.SetItemName(0, 5, 0)
    MainNpc.SetDeliveryItem(5, true)
    if MainNpc.CheckNpcApproachType():
        if EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:001', false)
            if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:100', false)
                MainNpc.NpcDelivery('"Default"', 11)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:102', false)
                MainNpc.SetItemToNpcStockList(1, 3)
                MainNpc.RegistToReleaseItemList(0)
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:101', false)
        else:
            MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:002', false)
            if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:200', false)
                MainNpc.NpcDelivery('"Default"', 11)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:202', false)
                MainNpc.SetItemToNpcStockList(1, 3)
                MainNpc.RegistToReleaseItemList(0)
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:201', false)
    elif EventFlowSystemActor.RandomChoiceExcludePrevious2(2, true) == 0:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:003', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            if MainNpc.CheckNpcFavorLevel() == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:300', false)
                MainNpc.NpcDelivery('"Default"', 11)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:302', false)
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:301', false)
                MainNpc.NpcDelivery('"Default"', 11)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:303', false)
            MainNpc.SetItemToNpcStockList(1, 3)
            MainNpc.RegistToReleaseItemList(0)
        else:
            run sub_grp!Event25
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:004', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            if MainNpc.CheckNpcFavorLevel() == 0:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:300', false)
                MainNpc.NpcDelivery('"Default"', 11)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:302', false)
            else:
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:301', false)
                MainNpc.NpcDelivery('"Default"', 11)
                MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:303', false)
            MainNpc.SetItemToNpcStockList(1, 3)
            MainNpc.RegistToReleaseItemList(0)
        else:
            run sub_grp!Event25
    return

flow sub_grp!Event25:
    if MainNpc.CheckNpcFavorLevel() == 0:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:400', false)
    else:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/Approach/BO_ApproachC_Trade:401', false)

