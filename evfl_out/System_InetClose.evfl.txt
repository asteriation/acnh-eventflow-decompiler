flow EntryPoint_OhiakiHost:
    if EventFlowSystemActor.NetCanRequestLeave():
        EventFlowSystemActor.MessageLockNext(1)
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Network:006', false)
        EventFlowSystemActor.NetDemoLock(2)
        EventFlowSystemActor.MessageUnlockNext()
        if EventFlowSystemActor.CheckErrorType(2):
            EventFlowSystemActor.MessageLockNext(2)
            EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Network:008', false)
            EventFlowSystemActor.NetForceQuitSession()
            EventFlowSystemActor.MessageUnlockNext()
            EventFlowSystemActor.MessageSuspend()
            if not EventFlowSystemActor.MessageUseBCancel():
                EventFlowSystemActor.NetBreakUpSessionVillage('cBreakUpSession', false)
        else:
            EventFlowSystemActor.MessageSuspend()
            EventFlowSystemActor.NetBreakUpSessionVillage('cBreakUpSession', false)
    else:
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_CloseMenu:007', false)
    return

flow EntryPoint_OkaeriVisitor:
    if EventFlowSystemActor.NetCanRequestLeave():
        EventFlowSystemActor.MessageLockNext(1)
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Network:005', false)
        EventFlowSystemActor.NetDemoLock(1)
        EventFlowSystemActor.MessageUnlockNext()
        if EventFlowSystemActor.CheckErrorType(2):
            EventFlowSystemActor.MessageLockNext(2)
            EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_Network:007', false)
            EventFlowSystemActor.NetForceQuitSession()
            if not EventFlowSystemActor.MessageUseBCancel():
                EventFlowSystemActor.MessageSuspend()
                EventFlowSystemActor.NetLeaveSessionVillage('cLeaveSession', false)
        else:
            EventFlowSystemActor.MessageSuspend()
            EventFlowSystemActor.NetLeaveSessionVillage('cLeaveSession', false)
    else:
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_CloseMenu:007', false)
    return

flow InetClose:
    EventFlowSystemActor.NetCaptureScreenshot()
    if not EventFlowSystemActor.NetIsInviteFriend():
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_CloseMenu:005', true)
        fEvent14 = EventFlowSystemActor.GeneralTalkChoice4()
        if fEvent14 == 0:
            run EntryPoint_OkaeriVisitor
        elif fEvent14 == 1:
            EventFlowSystemActor.UIShopMoneyDisappear()
            EventFlowSystemActor.UIMenuProfileOthersHandling()
        elif fEvent14 == 2:
entrypoint Event52:
            EventFlowSystemActor.UIShopMoneyDisappear()
            EventFlowSystemActor.UIIllegalReportHandling(5)
            run RevertWalletUI
            if EventFlowSystemActor.UIIllegalReportResult():
                EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_CloseMenu:005', true)
                fEvent39 = EventFlowSystemActor.GeneralTalkChoice4()
                if fEvent39 == 0:
                    run EntryPoint_OkaeriVisitor
                elif fEvent39 == 1:
                    EventFlowSystemActor.UIShopMoneyDisappear()
                    EventFlowSystemActor.UIMenuProfileOthersHandling()
                elif fEvent39 == 2:
                    run Report_Visitor
    elif EventFlowSystemActor.NetHasVisitor():
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_CloseMenu:002', true)
        fEvent3 = EventFlowSystemActor.GeneralTalkChoice4()
        if fEvent3 == 0:
            run EntryPoint_OhiakiHost
        elif fEvent3 == 1:
            EventFlowSystemActor.UIShopMoneyDisappear()
            EventFlowSystemActor.UIMenuProfileOthersHandling()
        elif fEvent3 == 2:
entrypoint Event49:
            EventFlowSystemActor.UIShopMoneyDisappear()
            EventFlowSystemActor.UIIllegalReportHandling(5)
            run RevertWalletUI
            if EventFlowSystemActor.UIIllegalReportResult():
                EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_CloseMenu:006', true)
                fEvent41 = EventFlowSystemActor.GeneralTalkChoice4()
                if fEvent41 == 0:
                    run EntryPoint_OhiakiHost
                elif fEvent41 == 1:
                    EventFlowSystemActor.UIShopMoneyDisappear()
                    EventFlowSystemActor.UIMenuProfileOthersHandling()
                elif fEvent41 == 2:
                    run Report_Host
    else:
        EventFlowSystemActor.OpenMessageWindow('TalkSys/SYS_CloseMenu:001', true)
        fEvent20 = EventFlowSystemActor.GeneralTalkChoice3()
        if fEvent20 == 0:
            run EntryPoint_OhiakiHost
        elif fEvent20 == 1:
            EventFlowSystemActor.UIShopMoneyDisappear()
            EventFlowSystemActor.UIMenuProfileOthersHandling()
    return

flow Report_Host:
    run Event49
    return

flow Report_Visitor:
    run Event52
    return

flow RevertWalletUI:
    if (EventFlowSystemActor.SystemCheckNowStage('cMametubu')) or (EventFlowSystemActor.SystemCheckNowStage('cTailor')):
        EventFlowSystemActor.UIMoneyAppear()
    return

