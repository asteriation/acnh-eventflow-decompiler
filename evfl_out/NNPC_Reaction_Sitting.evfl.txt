flow QuestGive_Chk:
    if MainNpc.NpcIsQuestClient('cMyQuest', true, false):
        fEvent13 = MainNpc.NpcHaveQuestType('')
        if fEvent13 == 2:
            if not MainNpc.NpcIsQuestClient('cLost', true, false):
                run StandingUp_Chk
            elif MainNpc.HasNpcRequestedItem():
                run StandingUp_Chk
        elif fEvent13 == 3:
            if not quest_flags['cDeliveryEnd']:
                run StandingUp_Chk
        elif fEvent13 == 1:
            if MainNpc.HasNpcRequestedItem():
                run StandingUp_Chk
    elif (MainNpc.IsDeliveryQuestReceiver()) and (not quest_flags['cDeliveryEnd']):
        run StandingUp_Chk
    else:
        run sub_grp!Event12
    return

flow Root:
    if MainNpc.NpcIsSitting() in (0, 1, 2, 3, 5):
        run QuestGive_Chk
        if (MainNpc.NpcActivityType() == 1) and (EventFlowSystemActor.SystemCheckNowStage('cField')):
            MainNpc.NpcSetReactionType('cSitting')
            if event_flags_npc['cNpcTemp:ContinuousReactionTalkCount'] >= 3:
                fEvent15 = MainNpc.NpcIsSitting()
                if fEvent15 == 0:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Sitting:001', false)
                    event_flags_npc['cNpcMemory:AcquaintanceshipFlagOff'] = true
                    EventFlowSystemActor.ExitFlowchart()
                elif fEvent15 == 1:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Sitting:002', false)
                    event_flags_npc['cNpcMemory:SitBenchFlag'] = true
                    event_flags_npc['cNpcMemory:AcquaintanceshipFlagOff'] = true
                    EventFlowSystemActor.ExitFlowchart()
                elif fEvent15 == 2:
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Sitting:003', false)
                    event_flags_npc['cNpcMemory:SitBenchFlag'] = true
                    event_flags_npc['cNpcMemory:AcquaintanceshipFlagOff'] = true
                    EventFlowSystemActor.ExitFlowchart()
                elif fEvent15 == 3:
                    MainNpc.SetItemName(0, 32, 0)
                    MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/React/BO_React_Sitting:004', false)
                    event_flags_npc['cNpcMemory:AcquaintanceshipFlagOff'] = true
                    EventFlowSystemActor.ExitFlowchart()
    return

flow StandingUp_Chk:
    fEvent42 = MainNpc.NpcIsSitting()
    if fEvent42 in (1, 2, 3, 5):
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/BO_Connect_StandingUp:202', false)
        event_flags_npc['cNpcMemory:StandingUpFlag'] = true
        EventFlowSystemActor.ExitFlowchart()
    elif fEvent42 == 0:
        MainNpc.OpenMessageWindow('TalkNNpc/B1_Bo/BO_Connect_StandingUp:201', false)
        event_flags_npc['cNpcMemory:StandingUpFlag'] = true
        EventFlowSystemActor.ExitFlowchart()
    return

flow sub_grp!Event12:
    if (MainNpc.NpcHaveQuestType('cNotInclude') in (1, 3, 4, 5, 6, 7, 0)) and (quest_flags['cLostUseHint']):
        pass
    else:
        if MainNpc.HasNpcRequestedItem():
            run StandingUp_Chk

