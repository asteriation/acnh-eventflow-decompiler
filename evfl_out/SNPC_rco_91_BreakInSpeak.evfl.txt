flow ObjRcoMachineCheck1st:
    run ObjRcoStandChair
    run AI_NPC_Rco::CheckRob_ATM_Direction
    event_flags_system['cPlayerTemp:RcoMachineTalkCntl'] = true
    if EventFlowSystemActor.PlayerHouseLevel() == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:002', false)
    else:
        fEvent41 = subflow_results[0]
        if fEvent41 == 2:
            run ObjRcoMachineCheck_2PUnlockFence
        elif fEvent41 == 3:
            run ObjRcoMachineCheck_UnlockAmiibo
        elif fEvent41 == 1:
            if event_flags_system['cPlayerTemp:RcoHeardOfficeOBJ']:
                MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_00_02', false)
            else:
                event_flags_system['cPlayerTemp:RcoHeardOfficeOBJ'] = true
                MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_00_01', false)
            MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_01', false)
            event_flags_system['cPlayer:ObjRcoMachineHeardExplanation'] = true
            if event_flags_system['cPlayer:RcoPaid1stCharge']:
                if event_flags_system['cLand:TanuportAmiiboCampUnlock']:
                    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_05', false)
                    event_flags_system['cPlayer:RcoMachineAmiiboCamperUnlock'] = true
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_03', false)
                if event_flags_system['cLand:RcmImmQuestComplete']:
                    event_flags_system['cPlayer:ObjRcoMachineHeardFenceRecipe'] = true
            else:
                if event_flags_system['cLand:TanuportAmiiboCampUnlock']:
                    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_04', false)
                    event_flags_system['cPlayer:RcoMachineAmiiboCamperUnlock'] = true
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:001_02', false)
    return

flow ObjRcoMachineCheck1st_Init:
    MainNpc.NpcAISetting(4, false)
    return

flow ObjRcoMachineCheck_2PUnlockFence:
    run ObjRcoStandChair
    event_flags_system['cPlayerTemp:RcoMachineTalkCntl'] = true
    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:031', false)
    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:032', false)
    event_flags_system['cPlayer:ObjRcoMachineHeardFenceRecipe'] = true
    return

flow ObjRcoMachineCheck_2PUnlockFence_Init:
    MainNpc.NpcAISetting(4, false)
    return

flow ObjRcoMachineCheck_UnlockAmiibo:
    run ObjRcoStandChair
    event_flags_system['cPlayerTemp:RcoMachineTalkCntl'] = true
    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:021', false)
    if event_flags_system['cPlayer:MakeVillagePlayerFlag']:
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:022', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:023', false)
    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:024', false)
    event_flags_system['cPlayer:RcoMachineAmiiboCamperUnlock'] = true
    return

flow ObjRcoMachineCheck_UnlockAmiibo_Init:
    MainNpc.NpcAISetting(4, false)
    return

flow ObjRcoRecycleBox1st:
    run ObjRcoStandChair
    event_flags_system['cPlayer:AccessLostPropertyBox1st'] = true
    if event_flags_system['cPlayerTemp:RcoHeardOfficeOBJ']:
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:011_02', false)
    else:
        event_flags_system['cPlayerTemp:RcoHeardOfficeOBJ'] = true
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:011_01', false)
    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:012', false)
    if event_flags_system['cPlayer:MainmenuCall']:
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:013_02', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:013_01', false)
    MainNpc.OpenMessageWindow('TalkSNpc/rco/SP_rco_91_BreakInSpeak:014', false)
    return

flow ObjRcoRecycleBox1st_Init:
    MainNpc.NpcAISetting(4, false)
    return

flow ObjRcoStandChair:
    MainNpc.RcoStandUpChair()
    MainNpc.TalkCamera(true, 0)
    return

