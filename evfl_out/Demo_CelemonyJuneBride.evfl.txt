flow Root:
    EventFlowSystemActor.WaitFrame(30)
    EventFlowSystemActor.SetEventFlagAttendJuneBrideDemo()
    MainNpc.TurnBody(12, 0.0)
    EventFlowSystemActor.WaitFrame(30)
    run WeddingParty_Demo
    event_flags_system['cLandTemp:JuneBrideCeremonyDemoAfterNow'] = true
    EventFlowSystemActor.NextLPFadeOff()
    EventFlowSystemActor.AfterWeddingBGMStart()
    if EventFlowSystemActor.CanHearAudioMusicAtFocusPoint():
        EventFlowSystemActor.SystemBGMVolumeFadeOut(3, 4.0, 0.0)
    EventFlowSystemActor.MessageSuspend()
    EventFlowSystemActor.SystemReenterStage(4, 'cCircle', 'cCircle', 'cBlack', 1.0, 1.0)
    return

flow WeddingParty_Demo:
    MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:080', false)
    EventFlowSystemActor.CeremonyStandup()
    fork:
        branch0:
        branch1:
            MainNpc.TurnBody(12, 0.0)
        branch2:
            SubNpc.TurnBody(12, 0.0)
        branch3:
            EventFlowSystemActor.CeremonyTurn('cFacilitator', true, false, true)
        branch4:
            EventFlowSystemActor.CeremonyLookAt('cFacilitator', false, false, 0.0, 0.0, 0.0, true)
    MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:081', false)
    EventFlowSystemActor.CeremonyEmoticon('Clapping', 75, 'FaintSmile', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', 'Clapping', false)
    MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:082', false)
    EventFlowSystemActor.CeremonyEmoticon('Smiling', 75, 'Smiling', 'Clapping', 'Smiling', 'HappyFlower', 'HappyDance', 'Clapping', 'Smiling', 'HappyFlower', 'HappyDance', false)
    MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:083', false)
    EventFlowSystemActor.CeremonyLookAt('cCamera', false, false, 0.0, 0.0, 0.0, false)
    EventFlowSystemActor.CeremonyTurn('cCamera', false, false, false)
    EventFlowSystemActor.CeremonyEquipCracker(6, 0)
    MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:084', true)
    EventFlowSystemActor.CeremonyUseCracker()
    fork:
        branch0:
        branch1:
            MainNpc.CharacterEmoticonAction('Smiling', '', 0, true, true)
        branch2:
            EventFlowSystemActor.CeremonyEmoticon('Smiling', -1, 'Smiling', 'HappyFlower', 'Smiling', 'HappyFlower', 'HappyDance', 'Smiling', 'Smiling', 'Smiling', 'HappyDance', false)
    MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:085', false)
    return

flow PartyEnd_Stop:
    MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:091', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:093', true)
        EventFlowSystemActor.WaitFrame(15)
        run System_JuneBrideParty::PartyEnd_Wipe
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:094', false)
        Player.PlayerDemoMove('cNextInfoAngle', 3)
    return

flow PartyEnd_LisaTalk:
    if event_flags_system['cPlayerTemp:AlwJuneBridePartyEndFlag']:
        MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:090', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:093', true)
            EventFlowSystemActor.WaitFrame(15)
            run System_JuneBrideParty::PartyEnd_Wipe
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:094', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/alw/GEvent/SP_alw_GEvent_JuneBride:092', false)
        event_flags_system['cPlayerTemp:AlwJuneBridePartyEndFlag'] = true
    return

flow PartyNow_alp:
    fEvent40 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
    if fEvent40 == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/alp/GEvent/SP_alp_GEvent_JuneBride:105', false)
    elif fEvent40 == 1:
        MainNpc.OpenMessageWindow('TalkSNpc/alp/GEvent/SP_alp_GEvent_JuneBride:106', false)
    elif fEvent40 == 2:
        MainNpc.OpenMessageWindow('TalkSNpc/alp/GEvent/SP_alp_GEvent_JuneBride:107', false)
    return

