flow Commentary_End:
    run Event130
    return

flow Root:
    if event_flags_system['cPlayer:FutaHeardCommentary']:
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:302', true)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:301', true)
    if event_flags_system['cPlayer:OwlShowDiveFishReport']:
        if event_flags_system['cPlayer:Owl1stTalkMuseum2']:
            EventFlowSystemActor.UIItemSelectWindowHandling(65534, '', 'cItemSelect', 'OwlCommentary3', 'cItemFilter', false)
        else:
            EventFlowSystemActor.UIItemSelectWindowHandling(65534, '', 'cItemSelect', 'OwlCommentary2', 'cItemFilter', false)
    elif event_flags_system['cPlayer:Owl1stTalkMuseum2']:
        EventFlowSystemActor.UIItemSelectWindowHandling(65534, '', 'cItemSelect', 'OwlCommentary1', 'cItemFilter', false)
    else:
        EventFlowSystemActor.UIItemSelectWindowHandling(65534, '', 'cItemSelect', 'OwlCommentary', 'cItemFilter', false)
    if EventFlowSystemActor.UIResultMenuDecide():
        MainNpc.SetDeliveryItem(4, false)
        EventFlowSystemActor.SetTagFromUIResult(0, 'cItemName')
        event_flags_system['cPlayer:FutaHeardCommentary'] = true
        MainNpc.NpcDelivery('Keep', 14)
        fEvent119 = MainNpc.OwlDonationItemType()
        if fEvent119 == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:304', false)
            MainNpc.OwlOpenItemMessage()
            if MainNpc.OwlIsDonation('cUISelect'):
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:352', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:353', false)
entrypoint Event130:
            MainNpc.NpcDelivery('"Default"', 2)
            run SNPC_owl_00_Common::Again
        elif fEvent119 == 4:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:306', false)
            MainNpc.OwlOpenItemMessage()
            if MainNpc.OwlIsDonation('cUISelect'):
                fEvent159 = EventFlowSystemActor.MuseumLevel()
                if fEvent159 == BlathersTent:
                    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:366', false)
                    run Commentary_End
                elif fEvent159 in (BlathersMuseumNoArt, BlathersMuseumArt):
                    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:367', false)
                    run Commentary_End
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:368', false)
                run Commentary_End
        elif fEvent119 == 2:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:308', false)
            if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:310', false)
                run SNPC_owl_02_Museum_Judgment::Fossil_Check
                MainNpc.OwlOpenItemMessage()
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:361', false)
                fEvent15 = EventFlowSystemActor.MuseumLevel()
                if fEvent15 in (BlathersMuseumNoArt, BlathersMuseumArt):
                    if MainNpc.OwlIsDonation('cUISelect'):
                        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:363', true)
                        run Commentary_End
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:364', true)
                        run Commentary_End
                elif fEvent15 == BlathersTent:
                    if MainNpc.OwlIsDonation('cUISelect'):
                        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:362', true)
                        run Commentary_End
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:364', true)
                        run Commentary_End
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:309', false)
                run Commentary_End
        elif fEvent119 == 3:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:313', false)
            MainNpc.OwlOpenItemMessage()
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:361', false)
            fEvent15 = EventFlowSystemActor.MuseumLevel()
            if fEvent15 in (BlathersMuseumNoArt, BlathersMuseumArt):
                if MainNpc.OwlIsDonation('cUISelect'):
                    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:363', true)
                    run Commentary_End
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:364', true)
                    run Commentary_End
            elif fEvent15 == BlathersTent:
                if MainNpc.OwlIsDonation('cUISelect'):
                    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:362', true)
                    run Commentary_End
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:364', true)
                    run Commentary_End
        elif fEvent119 == 5:
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:306', false)
            if MainNpc.OwlIsDonation('cUISelect'):
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:315', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:316', false)
            run Commentary_End
        elif fEvent119 == 6:
            event_flags_system['cLifeSupportAchievement:DonateFake'] = true
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:307', false)
            MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:351', false)
            run Commentary_End
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/owl/SP_owl_00_Common:303', true)
    return

