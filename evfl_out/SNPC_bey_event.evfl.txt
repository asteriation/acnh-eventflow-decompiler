flow AfterEv:
    if not EventFlowSystemActor.IsMyVillage():
        if event_flags_system['cPlayerVisit:DC_BevTalkFirst_AfterEv']:
            run AfterEv_2nd
        else:
            event_flags_system['cPlayerVisit:DC_BevTalkFirst_AfterEv'] = true
            if event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv']:
                run AfterEv_First
            else:
                run AfterEv_SNPC_First
    elif event_flags_system['cPlayer:BevTalkFirst_AfterEv']:
entrypoint Event405:
        if event_flags_system['cPlayer:CatchFishFesCount'] >= 10:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:100', false)
            if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                run PointCheck
            else:
entrypoint Event79:
                fEvent79 = EventFlowSystemActor.EventCheck('FishingConvention')
                if fEvent79 in (0, 1, 2):
                    fEvent246 = EventFlowSystemActor.EnvMonth()
                    if fEvent246 in (January, February, March, April, May, June, July, August, September):
                        fEvent247 = EventFlowSystemActor.RandomChoice3(3)
                        if fEvent247 == 0:
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:101', false)
                        elif fEvent247 == 1:
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:102', false)
                        elif fEvent247 == 2:
                            run sub_Event250
                    elif fEvent246 in (October, November, December):
                        fEvent251 = EventFlowSystemActor.RandomChoice3(3)
                        if fEvent251 == 0:
                            run sub_Event250
                        elif fEvent251 == 1:
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:104', false)
                        elif fEvent251 == 2:
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:105', false)
                elif fEvent79 == 3:
                    run TalkAfterEvent
        else:
entrypoint Event79:
            fEvent79 = EventFlowSystemActor.EventCheck('FishingConvention')
            if fEvent79 in (0, 1, 2):
                fEvent246 = EventFlowSystemActor.EnvMonth()
                if fEvent246 in (January, February, March, April, May, June, July, August, September):
                    fEvent247 = EventFlowSystemActor.RandomChoice3(3)
                    if fEvent247 == 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:101', false)
                    elif fEvent247 == 1:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:102', false)
                    elif fEvent247 == 2:
                        run sub_Event250
                elif fEvent246 in (October, November, December):
                    fEvent251 = EventFlowSystemActor.RandomChoice3(3)
                    if fEvent251 == 0:
                        run sub_Event250
                    elif fEvent251 == 1:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:104', false)
                    elif fEvent251 == 2:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:105', false)
            elif fEvent79 == 3:
                run TalkAfterEvent
    else:
        event_flags_system['cPlayer:BevTalkFirst_AfterEv'] = true
        if event_flags_system['cPlayer:BeyEvent_TalkFirst']:
entrypoint Event343:
            if EventFlowSystemActor.IsSharePlay(0):
                run sub_grp!Event344
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:080', false)
                fEvent260 = EventFlowSystemActor.GeneralTalkChoice3()
                if fEvent260 == 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:081', false)
                elif fEvent260 == 1:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:082', false)
                elif fEvent260 == 2:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:083', false)
                if event_flags_system['cPlayer:CatchFishFesCount'] > 10:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:085', false)
                    run sub_grp!Event437
                elif event_flags_system['cPlayer:CatchFishFesCount'] == 10:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:084', false)
                    run sub_grp!Event437
                else:
                    fEvent178 = EventFlowSystemActor.EventCheck('FishingConvention')
                    if fEvent178 in (0, 1, 2):
                        fEvent285 = EventFlowSystemActor.EnvMonth()
                        if fEvent285 in (January, February, March, April, May, June, July, August, September):
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:086', false)
                        elif fEvent285 in (October, November, December):
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:087', false)
                    elif fEvent178 == 3:
                        run TalkAfterEvent
        else:
            event_flags_system['cPlayer:BeyEvent_TalkFirst'] = true
            if event_flags_system['cPlayer:BeyDaily_TalkFirst']:
                run sub_grp!Event344
            else:
                event_flags_system['cPlayer:BeyDaily_TalkFirst'] = true
entrypoint Event25:
                if event_flags_system['cPlayer:CatchFishFesCount'] >= 10:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:090', false)
                    run sub_grp!Event264
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:090_01', false)
    return

flow AfterEv_2nd:
    run Event405
    return

flow AfterEv_Always:
    run Event79
    return

flow AfterEv_First:
    run Event343
    return

flow AfterEv_SNPC_First:
    run Event25
    return

flow BeforeEV_SNPC_First:
    run sub_Event20
    return

flow BeforeEv:
    if not EventFlowSystemActor.IsMyVillage():
        if not event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv']:
            event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv'] = true
            run BeforeEV_SNPC_First
        elif event_flags_system['cPlayer:CatchFishFesCount'] < 10:
            run BeforeEv_Always
        elif event_flags_system['cPlayer:BevTalkPoint_BeforeEv']:
            run BeforeEv_2nd
        else:
            event_flags_system['cPlayer:BevTalkPoint_BeforeEv'] = true
            run BeforeEv_PointCheck
    elif not event_flags_system['cPlayer:BeyEvent_TalkFirst']:
        event_flags_system['cPlayer:BeyEvent_TalkFirst'] = true
        if event_flags_system['cPlayer:BeyDaily_TalkFirst']:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:007', true)
        else:
            event_flags_system['cPlayer:BeyDaily_TalkFirst'] = true
            if EventFlowSystemActor.IsSharePlay(0):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:169', true)
            else:
                run sub_Event20
    elif event_flags_system['cPlayer:CatchFishFesCount'] < 10:
entrypoint Event16:
        fEvent16 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
        if fEvent16 == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:001', true)
        elif fEvent16 == 1:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:002', true)
        elif fEvent16 == 2:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:003', true)
    elif event_flags_system['cPlayer:BevTalkPoint_BeforeEv']:
entrypoint Event9:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:006', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            run PointExchange
        else:
            run BeforeEv_Always
    else:
        event_flags_system['cPlayer:BevTalkPoint_BeforeEv'] = true
entrypoint Event86:
        if event_flags_system['cPlayer:CatchFishFesCount'] == 10:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:005', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:004', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            run PointExchange
        else:
            run PointExCancel
    return

flow BeforeEv_2nd:
    run Event9
    return

flow BeforeEv_Always:
    run Event16
    return

flow BeforeEv_PointCheck:
    run Event86
    return

flow Bey_AfterMinigame_Talk:
    run Event151
    return

flow Check_EvQ_Entry:
    if not EventFlowSystemActor.NetHasVisitor():
entrypoint Event186:
        if EventFlowSystemActor.HasKindItem('cKind', 'FishingRod', ''):
            run EvQ_Entry
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:060', true)
    elif not EventFlowSystemActor.UIMiniGameCanStart():
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:068', true)
    elif not MainNpc.ChmFreeQuery2('cChmQueryType_FesBoxNotEmpty'):
        run Check_Item
    elif MainNpc.ChmFreeQuery2('cChmQueryType_BoxNotEmptyNum'):
        EventFlowSystemActor.SetTagFromSystem(0, 'cInsectBoxPlayer', 'cDegit', '', 0)
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:066', true)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:067', true)
    return

flow Check_Item:
    run Event186
    return

flow Check_TotalPoint:
    MainNpc.SmartPhone(4)
    if event_flags_system['cPlayer:BeyEvent_TotalPoint'] >= 300:
        if event_flags_system['cPlayer:BeyEvent_TalkTrophyGold']:
entrypoint Event466:
            MainNpc.SmartPhone(5)
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:151', false)
            if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:203', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:209', false)
            MainNpc.SmartPhone(1)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:200', false)
            run SmartPhone_TotalPoint
            event_flags_system['cPlayer:BeyEvent_TalkTrophyGold'] = true
            if event_flags_system['cPlayer:BeyEvent_TalkTrophySilver']:
entrypoint Event466:
                MainNpc.SmartPhone(5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:151', false)
                if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:203', false)
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:209', false)
                MainNpc.SmartPhone(1)
            else:
                event_flags_system['cPlayer:BeyEvent_TalkTrophySilver'] = true
                if event_flags_system['cPlayer:BeyEvent_TalkTrophyCopper']:
entrypoint Event466:
                    MainNpc.SmartPhone(5)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:151', false)
                    if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:203', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:209', false)
                    MainNpc.SmartPhone(1)
                else:
                    event_flags_system['cPlayer:BeyEvent_TalkTrophyCopper'] = true
entrypoint Event466:
                    MainNpc.SmartPhone(5)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:151', false)
                    if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:203', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:209', false)
                    MainNpc.SmartPhone(1)
    elif event_flags_system['cPlayer:BeyEvent_TotalPoint'] >= 200:
        if event_flags_system['cPlayer:BeyEvent_TalkTrophySilver']:
            run GetPoint_next
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:201', false)
            run SmartPhone_TotalPoint
            event_flags_system['cPlayer:BeyEvent_TalkTrophySilver'] = true
            if event_flags_system['cPlayer:BeyEvent_TalkTrophyCopper']:
entrypoint Event466:
                MainNpc.SmartPhone(5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:151', false)
                if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:203', false)
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:209', false)
                MainNpc.SmartPhone(1)
            else:
                event_flags_system['cPlayer:BeyEvent_TalkTrophyCopper'] = true
entrypoint Event466:
                MainNpc.SmartPhone(5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:151', false)
                if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:203', false)
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:209', false)
                MainNpc.SmartPhone(1)
    else:
        if (event_flags_system['cPlayer:BeyEvent_TotalPoint'] >= 100) and (not event_flags_system['cPlayer:BeyEvent_TalkTrophyCopper']):
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:202', false)
            run SmartPhone_TotalPoint
            event_flags_system['cPlayer:BeyEvent_TalkTrophyCopper'] = true
entrypoint Event466:
            MainNpc.SmartPhone(5)
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:151', false)
            if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:203', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:209', false)
            MainNpc.SmartPhone(1)
        else:
            run GetPoint_next
    return

flow Check_pay500:
    EventFlowSystemActor.UIMoneyAppear()
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:062_01', false)
    EventFlowSystemActor.BellCountDown(500, True)
    EventFlowSystemActor.UIMoneyDisappear()
    return

flow EvQ_Entry:
    if EventFlowSystemActor.IsMyVillage():
        if event_flags_system['cPlayer:BevTalkFirst_EvQuestFinish']:
            if EventFlowSystemActor.NetHasVisitor():
entrypoint Event92:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:064', true)
                MainNpc.MessageSuspend()
                event_flags_system['cLand:CatchFishFesGetTotalNum'] = 0
                event_flags_system['cLandTemp:CatchFishFesQuestStart'] = true
                event_flags_system['cLandTemp:FesEnterBalloon'] = false
                MainNpc.ChmFreeAction('cChmActionType_FishFesEntry')
                if EventFlowSystemActor.IsSharePlay(0):
                    EventFlowSystemActor.SetSharePlayChangeCondition(true)
                MainNpc.ChmFreeAction('cChmActionType_FishFesStart')
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:062', false)
                if EventFlowSystemActor.GeneralTalkChoice2() != 0:
                    run EvQ_Entry_Cancel
                elif EventFlowSystemActor.HasBellCount(500):
                    run Check_pay500
                    if EventFlowSystemActor.IsSharePlay(0):
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:163', true)
                        MainNpc.MessageSuspend()
                        event_flags_system['cLand:CatchFishFesGetTotalNum'] = 0
                        event_flags_system['cLandTemp:CatchFishFesQuestStart'] = true
                        event_flags_system['cLandTemp:FesEnterBalloon'] = false
                        MainNpc.ChmFreeAction('cChmActionType_FishFesEntry')
                        if EventFlowSystemActor.IsSharePlay(0):
                            EventFlowSystemActor.SetSharePlayChangeCondition(true)
                        MainNpc.ChmFreeAction('cChmActionType_FishFesStart')
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:063', true)
                        MainNpc.MessageSuspend()
                        event_flags_system['cLand:CatchFishFesGetTotalNum'] = 0
                        event_flags_system['cLandTemp:CatchFishFesQuestStart'] = true
                        event_flags_system['cLandTemp:FesEnterBalloon'] = false
                        MainNpc.ChmFreeAction('cChmActionType_FishFesEntry')
                        if EventFlowSystemActor.IsSharePlay(0):
                            EventFlowSystemActor.SetSharePlayChangeCondition(true)
                        MainNpc.ChmFreeAction('cChmActionType_FishFesStart')
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:061', true)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:065', false)
            if EventFlowSystemActor.NetHasVisitor():
                run EvQ_Start
            else:
                if EventFlowSystemActor.IsSharePlay(0):
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:163', true)
                    MainNpc.MessageSuspend()
                    event_flags_system['cLand:CatchFishFesGetTotalNum'] = 0
                    event_flags_system['cLandTemp:CatchFishFesQuestStart'] = true
                    event_flags_system['cLandTemp:FesEnterBalloon'] = false
                    MainNpc.ChmFreeAction('cChmActionType_FishFesEntry')
                    if EventFlowSystemActor.IsSharePlay(0):
                        EventFlowSystemActor.SetSharePlayChangeCondition(true)
                    MainNpc.ChmFreeAction('cChmActionType_FishFesStart')
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:063', true)
                    MainNpc.MessageSuspend()
                    event_flags_system['cLand:CatchFishFesGetTotalNum'] = 0
                    event_flags_system['cLandTemp:CatchFishFesQuestStart'] = true
                    event_flags_system['cLandTemp:FesEnterBalloon'] = false
                    MainNpc.ChmFreeAction('cChmActionType_FishFesEntry')
                    if EventFlowSystemActor.IsSharePlay(0):
                        EventFlowSystemActor.SetSharePlayChangeCondition(true)
                    MainNpc.ChmFreeAction('cChmActionType_FishFesStart')
    else:
        if event_flags_system['cPlayerVisit:DC_BevTalkFirst_EvQuestFinish']:
            run EvQ_Start
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:065', false)
            if EventFlowSystemActor.NetHasVisitor():
                run EvQ_Start
            else:
                if EventFlowSystemActor.IsSharePlay(0):
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:163', true)
                    MainNpc.MessageSuspend()
                    event_flags_system['cLand:CatchFishFesGetTotalNum'] = 0
                    event_flags_system['cLandTemp:CatchFishFesQuestStart'] = true
                    event_flags_system['cLandTemp:FesEnterBalloon'] = false
                    MainNpc.ChmFreeAction('cChmActionType_FishFesEntry')
                    if EventFlowSystemActor.IsSharePlay(0):
                        EventFlowSystemActor.SetSharePlayChangeCondition(true)
                    MainNpc.ChmFreeAction('cChmActionType_FishFesStart')
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:063', true)
                    MainNpc.MessageSuspend()
                    event_flags_system['cLand:CatchFishFesGetTotalNum'] = 0
                    event_flags_system['cLandTemp:CatchFishFesQuestStart'] = true
                    event_flags_system['cLandTemp:FesEnterBalloon'] = false
                    MainNpc.ChmFreeAction('cChmActionType_FishFesEntry')
                    if EventFlowSystemActor.IsSharePlay(0):
                        EventFlowSystemActor.SetSharePlayChangeCondition(true)
                    MainNpc.ChmFreeAction('cChmActionType_FishFesStart')
    return

flow EvQ_Entry_Cancel:
    run sub_Event217
    return

flow EvQ_Start:
    run Event92
    return

flow GetPoint_next:
    run Event466
    return

flow OpenEv:
    if not EventFlowSystemActor.IsMyVillage():
        if event_flags_system['cPlayerVisit:DC_BevTalkFirst_EvQuestFinish']:
            run OpenEv_AfterQ
        elif event_flags_system['cPlayerVisit:DC_BevTalkRuleFirst']:
            run OpenEv_BeforeQ
        else:
            event_flags_system['cPlayerVisit:DC_BevTalkRuleFirst'] = true
            if event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv']:
                run OpenEv_BeforeQ_First
            else:
                event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv'] = true
                run OpenEv_SNPC_First
    elif event_flags_system['cPlayer:BevTalkFirst_EvQuestFinish']:
entrypoint Event206:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:035', false)
entrypoint Event197:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:047', false)
        fEvent198 = EventFlowSystemActor.GeneralTalkChoice4()
        if fEvent198 == 0:
            run Check_EvQ_Entry
        elif fEvent198 == 1:
            run TalkRule
        elif fEvent198 == 2:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:049', false)
            fEvent202 = EventFlowSystemActor.GeneralTalkChoice4()
            if fEvent202 == 0:
                run SellFish
            elif fEvent202 == 1:
                run PointCheck
            elif fEvent202 == 2:
                run Select_OpenEv_AfterQ
            elif fEvent202 == 3:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:048', false)
        elif fEvent198 == 3:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:048', false)
    else:
        if event_flags_system['cPlayer:BevTalkRuleFirst']:
entrypoint Event210:
            if EventFlowSystemActor.NetHasVisitor():
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:034', false)
            elif EventFlowSystemActor.IsSharePlay(0):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:171', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:026', false)
        else:
            event_flags_system['cPlayer:BevTalkRuleFirst'] = true
            if event_flags_system['cPlayer:BeyEvent_TalkFirst']:
entrypoint Event227:
                if EventFlowSystemActor.EnvHourCompare(10, -1, true, true) == 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:020', false)
                else:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:031', false)
            else:
                event_flags_system['cPlayer:BeyEvent_TalkFirst'] = true
                if event_flags_system['cPlayer:BeyDaily_TalkFirst']:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:037', false)
                else:
entrypoint Event219:
                    event_flags_system['cPlayer:BeyDaily_TalkFirst'] = true
                    if EventFlowSystemActor.IsSharePlay(0):
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:168', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:036', false)
            if EventFlowSystemActor.NetHasVisitor():
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:022', false)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:032', false)
            elif EventFlowSystemActor.IsSharePlay(0):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:161', false)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:162', false)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:167', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:021', false)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:023', false)
        fEvent213 = EventFlowSystemActor.GeneralTalkChoice4()
        if fEvent213 == 0:
            run Check_EvQ_Entry
        elif fEvent213 == 1:
            run TalkRule
        elif fEvent213 == 2:
            run PointCheck
        elif fEvent213 == 3:
            run sub_Event217
    return

flow OpenEv_AfterQ:
    run Event206
    return

flow OpenEv_BeforeQ:
    run Event210
    return

flow OpenEv_BeforeQ_First:
    run Event227
    return

flow OpenEv_SNPC_First:
    run Event219
    return

flow PointCheck:
    run SmartPhone_entry
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:025', false)
    MainNpc.SmartPhone(5)
    if event_flags_system['cPlayer:CatchFishFesCount'] >= 10:
        run PointExchange
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:039', true)
        MainNpc.SmartPhone(1)
    return

flow PointExCancel:
    fEvent180 = EventFlowSystemActor.EventCheck('FishingConvention')
    if fEvent180 in (0, 1):
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:017', true)
    elif fEvent180 == 2:
        if EventFlowSystemActor.EnvHourCompare(20, -1, true, true) in (0, 1):
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:018', true)
        else:
            run AfterEv_Always
    elif fEvent180 == 3:
        run AfterEv_Always
    return

flow PointExchange:
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:011', false)
    if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
        MainNpc.SmartPhone(1)
        event_flags_system['cPlayer:CatchFishFesCount'] += -10
        MainNpc.DecideEventReward('cTournamentFishing')
        MainNpc.SetDeliveryItem(1, false)
        EventFlowSystemActor.PlayReport(0, 'cBeyPointExchange')
        MainNpc.SetEventRewardToPlayerBaggage('cFree')
        MainNpc.SetItemName(0, 1, 4)
        MainNpc.NpcDelivery('"Default"', 1)
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:012', false)
        if event_flags_system['cPlayer:CatchFishFesCount'] >= 10:
            EventFlowSystemActor.SetTagFromSystem(1, 'cEventFlag', 'cDegit', 'cPlayer:CatchFishFesCount', 0)
            if EventFlowSystemActor.SystemHasBaggageSpace(1, 'cPocketBag'):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:016', false)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    run PointExchange
                else:
                    run PointExCancel
                    MainNpc.SmartPhone(1)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:015', true)
                MainNpc.SmartPhone(1)
        else:
            fEvent28 = EventFlowSystemActor.EventCheck('FishingConvention')
            if fEvent28 == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:013', true)
                MainNpc.SmartPhone(1)
            elif fEvent28 == 1:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:014', true)
                MainNpc.SmartPhone(1)
            elif fEvent28 in (2, 3):
                run AfterEv_Always
                MainNpc.SmartPhone(1)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:010', true)
        MainNpc.SmartPhone(1)
    return

flow Quest_Result:
    if EventFlowSystemActor.IsMyVillage():
        event_flags_system['cPlayer:BevQuestFinish'] = false
        event_flags_system['cPlayer:BevTalkFirst_EvQuestFinish'] = true
        if event_flags_system['cPlayer:BeyEvent_TalkFirst']:
entrypoint Event151:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:141', false)
            run sub_grp!Event288
        else:
            event_flags_system['cPlayer:BeyEvent_TalkFirst'] = true
            if event_flags_system['cPlayer:BeyDaily_TalkFirst']:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:152', false)
                run sub_grp!Event288
            else:
                event_flags_system['cPlayer:BeyDaily_TalkFirst'] = true
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:140', false)
                run sub_grp!Event288
    else:
        event_flags_system['cPlayerVisit:DC_BevQuestFinish'] = false
        event_flags_system['cPlayerVisit:DC_BevTalkFirst_EvQuestFinish'] = true
        if event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv']:
            run Bey_AfterMinigame_Talk
        else:
            event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv'] = true
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:140', false)
            run sub_grp!Event288
    return

flow Result_Bonus_DC:
    run Event294
    return

flow Result_CatchP:
    run Event292
    return

flow Result_CatchP-Bonus_C:
    run Event309
    return

flow Result_CatchP-Bonus_DC:
    run Event310
    return

flow Result_CatchP-Bonus_DC-C:
    run Event311
    return

flow Result_CatchPOver-Bonus_C:
    run Event467
    return

flow Result_CatchPOver-Bonus_DC-C:
    run Event428
    return

flow Result_NoPoint:
    run Event293
    return

flow Root:
    run Tag_Num
    run Tag_SET_HOUR
    run Tag_SET_MONTH
    if event_flags_system['cLandTemp:CatchFishFesQuestStart']:
        event_flags_system['cLandTemp:FesEnterBalloon'] = true
        if EventFlowSystemActor.IsMyVillage():
            if event_flags_system['cPlayer:BeyDaily_TalkFirst']:
                run sub_grp!Event5
            else:
                event_flags_system['cPlayer:BeyDaily_TalkFirst'] = true
                event_flags_system['cPlayer:BeyEvent_TalkFirst'] = true
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:073', false)
        elif MainNpc.ChmFreeQuery2('cChmQueryType_IsEntryQuestBey'):
            if event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv']:
                run sub_grp!Event5
            else:
                event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv'] = true
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:073', false)
        elif event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv']:
            fEvent276 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
            if fEvent276 == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:112', false)
            elif fEvent276 == 1:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:113', false)
            elif fEvent276 == 2:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:114', false)
        else:
            event_flags_system['cPlayerVisit:DC_BevTalkFirst_BeforeEv'] = true
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:110', false)
    elif EventFlowSystemActor.IsMyVillage():
        if event_flags_system['cPlayer:BevQuestFinish']:
            run Quest_Result
        else:
            run sub_grp!Event254
    else:
        if event_flags_system['cPlayerVisit:DC_BevQuestFinish']:
            run Quest_Result
        else:
            run sub_grp!Event254
    return

flow Select_OpenEv_AfterQ:
    run Event197
    return

flow SellBOX:
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:120', false)
    fEvent101 = EventFlowSystemActor.GeneralTalkChoice3()
    if fEvent101 == 0:
        MainNpc.InsectFishBoxSellCalc('SellTotal', 1.5)
        EventFlowSystemActor.SetTagFromSystem(5, 'cFlow', 'cMoney', '', 'SellTotal')
        EventFlowSystemActor.SetTagFromSystem(6, 'cInsectFishBoxNum', 'cDegit', '', 'SellTotal')
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:134', false)
        run SmartPhone_entry
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:135', false)
        MainNpc.SmartPhone(1)
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:123', false)
        if EventFlowSystemActor.GeneralTalkChoice2() == 0:
            EventFlowSystemActor.UIMoneyAppear()
            fEvent102 = EventFlowSystemActor.MoneyCapacity('SellTotal', 'cFishInsectFes')
            if fEvent102 == 0:
                MainNpc.InsectFishBoxSellDone(1.5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:125', false)
            elif fEvent102 == 1:
                MainNpc.InsectFishBoxSellDone(1.5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:126', false)
            elif fEvent102 == 2:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:124', false)
                MainNpc.InsectFishBoxSellDone(1.5)
            fEvent107 = EventFlowSystemActor.EventCheck('FishingConvention')
            if fEvent107 in (0, 1):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:127', false)
            elif fEvent107 == 2:
                fEvent111 = EventFlowSystemActor.EnvMonth()
                if fEvent111 in (January, February, March, April, May, June, July, August, September):
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:128', false)
                elif fEvent111 in (October, November, December):
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:129', false)
            elif fEvent107 == 3:
                run TalkAfterEvent
        else:
            run SellBoxCancel
    elif fEvent101 == 1:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:130', true)
    elif fEvent101 == 2:
entrypoint Event114:
        fEvent114 = EventFlowSystemActor.EventCheck('FishingConvention')
        if fEvent114 == 0:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:130', true)
        elif fEvent114 == 1:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:131', true)
        elif fEvent114 == 2:
            if EventFlowSystemActor.EnvHourCompare(20, -1, true, true) == 0:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:132', true)
            else:
                if EventFlowSystemActor.EnvHourCompare(0, -1, true, true) == 0:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:133', true)
                else:
                    run AfterEv_Always
        elif fEvent114 == 3:
            run AfterEv_Always
    return

flow SellBoxCancel:
    run Event114
    return

flow SellFish:
    if EventFlowSystemActor.HasKindItem('cKind', 'Fish', ''):
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:050', false)
        EventFlowSystemActor.UIItemSelectWindowHandling(65534, 'Fish', 'cItemSelect', '', 'cFishSell', false)
        if EventFlowSystemActor.UIResultMenuDecide():
            MainNpc.SetDeliveryItem(4, false)
            MainNpc.NpcDelivery('Keep', 0)
            MainNpc.ShopSellCalc('SellTotal', false, 1.5, true)
            EventFlowSystemActor.SetTagFromSystem(3, 'cFlow', 'cMoney', '""', 'SellTotal')
            if EventFlowSystemActor.UIResultItemWindowNumCheck('cItemSelect', 2):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:051', true)
                if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                    EventFlowSystemActor.UIMoneyAppear()
                    MainNpc.NpcDelivery('Default', 7)
                    MainNpc.ShopSellDone(1.5, false)
                    EventFlowSystemActor.UIMoneyDisappear()
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:053', false)
                else:
                    run SellFish_Cancel
                    MainNpc.NpcDelivery('Default', 10)
            else:
                if EventFlowSystemActor.UIResultItemWindowNumCheck('cItemSelect', 1):
                    EventFlowSystemActor.SetTagFromUIResult(1, 'cItemName')
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:052', true)
                    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        EventFlowSystemActor.UIMoneyAppear()
                        MainNpc.NpcDelivery('Default', 7)
                        MainNpc.ShopSellDone(1.5, false)
                        EventFlowSystemActor.UIMoneyDisappear()
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:053', false)
                    else:
                        run SellFish_Cancel
                        MainNpc.NpcDelivery('Default', 10)
                else:
                    run SellFish_Cancel
                    MainNpc.NpcDelivery('Default', 10)
        else:
            run SellFish_Cancel
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:056', true)
    return

flow SellFish_Cancel:
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:057', true)
    return

flow SmartPhone_ResultCatchPOver:
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:156', false)
    MainNpc.SmartPhone(5)
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:156_01', false)
    MainNpc.SmartPhone(4)
    return

flow SmartPhone_TotalPoint:
    MainNpc.SmartPhone(5)
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:207', false)
    return

flow SmartPhone_entry:
    MainNpc.SmartPhone(0)
    MainNpc.SmartPhone(4)
    return

flow Tag_Num:
    EventFlowSystemActor.SetTagFromSystem(0, 'cFlow', 'cDegit', '', 10)
    EventFlowSystemActor.SetTagFromSystem(1, 'cEventFlag', 'cDegit', 'cPlayer:CatchFishFesCount', 0)
    EventFlowSystemActor.SetTagFromSystem(2, 'cFlow', 'cMoney', '', 500)
    EventFlowSystemActor.SetTagFromSystem(4, 'cFlow', 'cDegit', '', 3)
    if EventFlowSystemActor.IsMyVillage():
        EventFlowSystemActor.SetTagFromSystem(7, 'cEventFlag', 'cDegit', 'cPlayer:BeyEvent_ResultGetPoint', 0)
        EventFlowSystemActor.SetTagFromSystem(8, 'cEventFlag', 'cDegit', 'cPlayer:BeyEvent_ResultGetFish', 0)
    else:
        EventFlowSystemActor.SetTagFromSystem(7, 'cEventFlag', 'cDegit', 'cPlayerTemp:CatchFesGetPoint', 0)
        EventFlowSystemActor.SetTagFromSystem(8, 'cEventFlag', 'cDegit', 'cPlayerTemp:CatchFishFesGetNum', 0)
    EventFlowSystemActor.SetTagFromSystem(9, 'cEventFlag', 'cDegit', 'cLand:CatchFishFesGetTotalNum', 0)
    EventFlowSystemActor.SetTagFromSystem(10, 'cFlow', 'cDegit', '', 5)
    EventFlowSystemActor.SetTagFromSystem(11, 'cFlow', 'cDegit', '', 300)
    EventFlowSystemActor.SetTagFromSystem(12, 'cFlow', 'cDegit', '', 200)
    EventFlowSystemActor.SetTagFromSystem(13, 'cFlow', 'cDegit', '', 100)
    EventFlowSystemActor.SetTagFromSystem(14, 'cFlow', 'cDegit', '', 3)
    return

flow Tag_SET_HOUR:
    EventFlowSystemActor.SetTagFromSystem(0, 'cFlow', 'cHour', '', 9)
    EventFlowSystemActor.SetTagFromSystem(1, 'cFlow', 'cHour', '', 18)
    EventFlowSystemActor.SetTagFromSystem(2, 'cFlow', 'cHour', '', 20)
    EventFlowSystemActor.SetTagFromSystem(3, 'cFlow', 'cHour', '', 5)
    return

flow Tag_SET_MONTH:
    EventFlowSystemActor.SetTagFromSystem(0, 'cNextFishingEvent', 'cDegit', '', 0)
    return

flow TalkAfterEvent:
    run sub_Event250
    return

flow TalkNextSchedule:
    run Event307
    return

flow TalkRule:
    if EventFlowSystemActor.NetHasVisitor():
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:038', false)
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:028', false)
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:027', false)
        if EventFlowSystemActor.IsSharePlay(0):
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:164', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:028', false)
    if EventFlowSystemActor.NetHasVisitor():
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:033', false)
    else:
        if event_flags_system['cPlayer:BevTalkFirst_EvQuestFinish']:
            if EventFlowSystemActor.IsSharePlay(0):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:165', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:029', false)
        elif EventFlowSystemActor.IsSharePlay(0):
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:166', false)
        else:
            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:030', false)
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run Check_EvQ_Entry
    else:
        run EvQ_Entry_Cancel
    return

flow sub_Event20:
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:000', true)
    return

flow sub_Event217:
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:024', false)
    return

flow sub_Event250:
    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:103', false)
    return

flow sub_grp!Event254:
    if EventFlowSystemActor.InsectFishBoxIsEmpty():
        run SellBOX
    else:
        fEvent0 = EventFlowSystemActor.EventCheck('FishingConvention')
        if fEvent0 == 0:
            run BeforeEv
        elif fEvent0 == 1:
            event_flags_system['cLandTemp:NNPC_CatchFishFesAction_Continue'] = true
            run OpenEv
            event_flags_system['cLandTemp:NNPC_CatchFishFesAction_Continue'] = false
        elif fEvent0 in (2, 3):
            run AfterEv

flow sub_grp!Event264:
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run PointCheck
    elif EventFlowSystemActor.EnvHourCompare(20, -1, true, true) == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:092', false)
    else:
        run AfterEv_Always

flow sub_grp!Event288:
    if EventFlowSystemActor.IsMyVillage():
        if event_flags_system['cPlayer:BeyEvent_ResultGetFish'] >= 1:
            if EventFlowSystemActor.IsSharePlay(0):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:160', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:146', false)
            run SmartPhone_entry
            if EventFlowSystemActor.IsMyVillage():
                if event_flags_system['cPlayer:CatchFishFes_CooperativeBonus']:
                    if not event_flags_system['cPlayer:CatchFishFes_Bonus']:
entrypoint Event310:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:149', false)
                        MainNpc.SmartPhone(5)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                        MainNpc.NpcStartAS('BeyTakePictures', false, False)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                        run Check_TotalPoint
                    elif event_flags_system['cPlayer:BeyEvent_ResultGetFish'] >= 21:
entrypoint Event428:
                        run SmartPhone_ResultCatchPOver
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:157', false)
                        MainNpc.SmartPhone(5)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                        MainNpc.NpcStartAS('BeyTakePictures', false, False)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                        run Check_TotalPoint
                    else:
entrypoint Event311:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:150', false)
                        MainNpc.SmartPhone(5)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                        MainNpc.NpcStartAS('BeyTakePictures', false, False)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                        run Check_TotalPoint
                elif not event_flags_system['cPlayer:CatchFishFes_Bonus']:
entrypoint Event292:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:147', false)
                    MainNpc.SmartPhone(5)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                    MainNpc.NpcStartAS('BeyTakePictures', false, False)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                    run Check_TotalPoint
                elif event_flags_system['cPlayer:BeyEvent_ResultGetFish'] >= 21:
entrypoint Event467:
                    run SmartPhone_ResultCatchPOver
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:158', false)
                    MainNpc.SmartPhone(5)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                    MainNpc.NpcStartAS('BeyTakePictures', false, False)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                    run Check_TotalPoint
                else:
entrypoint Event309:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:148', false)
                    MainNpc.SmartPhone(5)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                    MainNpc.NpcStartAS('BeyTakePictures', false, False)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                    run Check_TotalPoint
            else:
                if not event_flags_system['cPlayerVisit:DC_CatchFishFes_CooperativeBonus']:
                    if event_flags_system['cPlayerVisit:DC_CatchFishFes_Bonus']:
                        run Result_CatchP-Bonus_C
                    else:
                        run Result_CatchP
                elif not event_flags_system['cPlayerVisit:DC_CatchFishFes_Bonus']:
                    run Result_CatchP-Bonus_DC
                elif event_flags_system['cPlayerTemp:CatchFishFesGetNum'] >= 21:
                    run Result_CatchPOver-Bonus_DC-C
                else:
                    run Result_CatchP-Bonus_DC-C
        else:
            run SmartPhone_entry
            if not EventFlowSystemActor.IsMyVillage():
                if event_flags_system['cPlayerVisit:DC_CatchFishFes_CooperativeBonus']:
                    run Result_Bonus_DC
                else:
                    run Result_NoPoint
            elif event_flags_system['cPlayer:CatchFishFes_CooperativeBonus']:
entrypoint Event294:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:145', false)
                MainNpc.SmartPhone(5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                MainNpc.NpcStartAS('BeyTakePictures', false, False)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                run Check_TotalPoint
            else:
entrypoint Event293:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:142', false)
                MainNpc.SmartPhone(5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:155', false)
                if EventFlowSystemActor.NetHasVisitor():
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:143', false)
                MainNpc.SmartPhone(4)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:144', false)
                MainNpc.SmartPhone(5)
                if event_flags_system['cPlayer:CatchFishFesCount'] >= 10:
                    if event_flags_system['cPlayer:CatchFishFesCount'] == 10:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:045', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:046', false)
                    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        run PointExchange
                    else:
                        run PointExCancel
                        MainNpc.SmartPhone(1)
                else:
                    if event_flags_system['cPlayer:CatchFishFesCount'] == 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:041', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:040', false)
entrypoint Event307:
                    if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:042', true)
                        MainNpc.SmartPhone(1)
                    else:
                        fEvent313 = EventFlowSystemActor.EnvMonth()
                        if fEvent313 in (January, February, March, April, May, June, July, August, September):
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:044', true)
                            MainNpc.SmartPhone(1)
                        elif fEvent313 in (October, November, December):
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:043', true)
                            MainNpc.SmartPhone(1)
    else:
        if event_flags_system['cPlayerTemp:CatchFishFesGetNum'] >= 1:
            if EventFlowSystemActor.IsSharePlay(0):
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:160', false)
            else:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:146', false)
            run SmartPhone_entry
            if EventFlowSystemActor.IsMyVillage():
                if event_flags_system['cPlayer:CatchFishFes_CooperativeBonus']:
                    if not event_flags_system['cPlayer:CatchFishFes_Bonus']:
entrypoint Event310:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:149', false)
                        MainNpc.SmartPhone(5)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                        MainNpc.NpcStartAS('BeyTakePictures', false, False)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                        run Check_TotalPoint
                    elif event_flags_system['cPlayer:BeyEvent_ResultGetFish'] >= 21:
entrypoint Event428:
                        run SmartPhone_ResultCatchPOver
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:157', false)
                        MainNpc.SmartPhone(5)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                        MainNpc.NpcStartAS('BeyTakePictures', false, False)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                        run Check_TotalPoint
                    else:
entrypoint Event311:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:150', false)
                        MainNpc.SmartPhone(5)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                        MainNpc.NpcStartAS('BeyTakePictures', false, False)
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                        run Check_TotalPoint
                elif not event_flags_system['cPlayer:CatchFishFes_Bonus']:
entrypoint Event292:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:147', false)
                    MainNpc.SmartPhone(5)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                    MainNpc.NpcStartAS('BeyTakePictures', false, False)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                    run Check_TotalPoint
                elif event_flags_system['cPlayer:BeyEvent_ResultGetFish'] >= 21:
entrypoint Event467:
                    run SmartPhone_ResultCatchPOver
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:158', false)
                    MainNpc.SmartPhone(5)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                    MainNpc.NpcStartAS('BeyTakePictures', false, False)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                    run Check_TotalPoint
                else:
entrypoint Event309:
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:148', false)
                    MainNpc.SmartPhone(5)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                    MainNpc.NpcStartAS('BeyTakePictures', false, False)
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                    run Check_TotalPoint
            else:
                if not event_flags_system['cPlayerVisit:DC_CatchFishFes_CooperativeBonus']:
                    if event_flags_system['cPlayerVisit:DC_CatchFishFes_Bonus']:
                        run Result_CatchP-Bonus_C
                    else:
                        run Result_CatchP
                elif not event_flags_system['cPlayerVisit:DC_CatchFishFes_Bonus']:
                    run Result_CatchP-Bonus_DC
                elif event_flags_system['cPlayerTemp:CatchFishFesGetNum'] >= 21:
                    run Result_CatchPOver-Bonus_DC-C
                else:
                    run Result_CatchP-Bonus_DC-C
        else:
            run SmartPhone_entry
            if not EventFlowSystemActor.IsMyVillage():
                if event_flags_system['cPlayerVisit:DC_CatchFishFes_CooperativeBonus']:
                    run Result_Bonus_DC
                else:
                    run Result_NoPoint
            elif event_flags_system['cPlayer:CatchFishFes_CooperativeBonus']:
entrypoint Event294:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:145', false)
                MainNpc.SmartPhone(5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:153', false)
                MainNpc.NpcStartAS('BeyTakePictures', false, False)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:154', false)
                run Check_TotalPoint
            else:
entrypoint Event293:
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:142', false)
                MainNpc.SmartPhone(5)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:155', false)
                if EventFlowSystemActor.NetHasVisitor():
                    MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:143', false)
                MainNpc.SmartPhone(4)
                MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:144', false)
                MainNpc.SmartPhone(5)
                if event_flags_system['cPlayer:CatchFishFesCount'] >= 10:
                    if event_flags_system['cPlayer:CatchFishFesCount'] == 10:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:045', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:046', false)
                    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
                        run PointExchange
                    else:
                        run PointExCancel
                        MainNpc.SmartPhone(1)
                else:
                    if event_flags_system['cPlayer:CatchFishFesCount'] == 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:041', false)
                    else:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:040', false)
entrypoint Event307:
                    if EventFlowSystemActor.EnvHourCompare(18, -1, true, true) == 0:
                        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:042', true)
                        MainNpc.SmartPhone(1)
                    else:
                        fEvent313 = EventFlowSystemActor.EnvMonth()
                        if fEvent313 in (January, February, March, April, May, June, July, August, September):
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:044', true)
                            MainNpc.SmartPhone(1)
                        elif fEvent313 in (October, November, December):
                            MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:043', true)
                            MainNpc.SmartPhone(1)

flow sub_grp!Event344:
    if event_flags_system['cPlayer:CatchFishFesCount'] >= 10:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:170', false)
        run sub_grp!Event264
    else:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:170_01', false)

flow sub_grp!Event437:
    if EventFlowSystemActor.GeneralTalkChoice2() == 0:
        run PointExchange
    else:
        run PointExCancel

flow sub_grp!Event5:
    fEvent5 = EventFlowSystemActor.RandomChoiceExcludePrevious3(true, 3)
    if fEvent5 == 0:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:070', true)
    elif fEvent5 == 1:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:071', true)
    elif fEvent5 == 2:
        MainNpc.OpenMessageWindow('TalkSNpc/bey/SP_bey_event:072', true)

