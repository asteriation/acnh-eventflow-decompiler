flow AI_hgs_status_update:
    if (not EventFlowSystemActor.NetIsConnected()) and (not ((EventFlowSystemActor.IsSharePlay(0)) and (event_flags_system['cPlayer:HgsCloseness'] < 11) and ((event_flags_system['cPlayer:HgsTalkTodayFlag']) or (EventFlowSystemActor.IsUnlockedAllItemRemakeCommonPattern())))):
        if event_flags_system['cPlayer:HgsCloseness'] < 5:
            MainNpc.NpcChangeHeadCtrlMode('cNoLook', true)
            MainNpc.NpcAISetting(3, false)
        else:
            MainNpc.NpcChangeHeadCtrlMode('cNoLook', true)
            MainNpc.NpcAISetting(3, true)
    else:
        MainNpc.NpcChangeHeadCtrlMode('cNoLook', true)
        MainNpc.NpcAISetting(3, false)
    MainNpc.NpcAISetting(2, false)
    MainNpc.SetDefaultWaitAs('cHgsSew')
    return

flow Init:
    MainNpc.NpcAISetting(0, true)
    MainNpc.NpcAISetting(1, true)
    MainNpc.NpcAISetting(8, true)
    MainNpc.NpcAISetting(14, true)
    return

flow Root:
    run AI_hgs_status_update
    MainNpc.NpcChangeTurnDefaultState('cTurn', '', 'Root', 'SNPC_hgs', true, false, true, 1, 0.0, '')
    return

